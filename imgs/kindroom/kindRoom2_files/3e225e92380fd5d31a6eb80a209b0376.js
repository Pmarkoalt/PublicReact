!function(t){function e(n){if(i[n])return i[n].exports;var o=i[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var i={};return e.m=t,e.c=i,e.i=function(t){return t},e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=139)}([function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(25),a=n(o),s=i(20),r=n(s),l=i(5),u=n(l),d=i(9),c=n(d),f=i(71),h=n(f),p=i(36),v=n(p),m=i(70),g=n(m),y=i(38),_=n(y),b=i(37),w=n(b),T=i(12),k=n(T),E=i(8),j=n(E),P=i(72),M=n(P),C=i(39),O=n(C),$=i(73),S=n($),A=i(6),I=n(A),D=i(40),x=n(D),V=i(35),N=n(V),L=i(68),z=n(L),R=i(24),U=n(R),H={api:a["default"],env:r["default"],log:u["default"],dom:c["default"],keys:h["default"],util:j["default"],cache:v["default"],hooks:g["default"],images:_["default"],detect:w["default"],config:k["default"],resizes:M["default"],resizer:O["default"],scrolls:S["default"],emitter:I["default"],scroller:x["default"],Waypoints:N["default"],Analytics:z["default"],Store:U["default"]};e["default"]=H},function(t,e,i){(function(e){t.exports=e.hobo=i(101)}).call(e,i(32))},function(t,e,i){var n=i(3),o=[],a=function(t,e){if(this._hobo=n.version,this._context=e&&e.nodeType&&1===e.nodeType?e:document,t===window||t===document||t.nodeType&&1===t.nodeType)this._selector="",t=[t];else if("string"==typeof t)if(t=n.trimString(t),n.rTag.test(t)){t=t.replace(n.rDocType,"");var i=document.createElement("hobo");i.innerHTML=t,t=n.makeArray(i.children),i=null}else this._selector=t,t=n.makeArray(this._context.querySelectorAll(t));else void 0!==t.length&&(this._selector="",t=n.makeArray(t));this._events={},this.length=t.length;for(var o=this.length;o--;)this[o]=t[o];this.forEach(n.makeData)};a.prototype.splice=o.splice,a.prototype.each=o.forEach,a.prototype.forEach=o.forEach,a.prototype.push=o.push,a.prototype.map=o.map,t.exports=a},function(t){var e="0.3.15",i=/^data-/,n=/\D/g,o=/-([\da-z])/gi,a=/^</,s=/^\[|\{/,r=/^<\!DOCTYPE\shtml>/i,l=/^\s+|\s+$/g,u=function(t){return t.replace(l,"")},d=function(t){return t.replace(o,function(t,e){return e.toUpperCase()})},c=function(){return"hobo"+(e+Math.random()).replace(n,"")},f=function(t){return[].slice.call(t)},h=function(t){t.hoboDataMap||(t.hoboDataMap={}),t.dataset?k(t):t.attributes&&T(t)},p=function(t,e){var i,n;for(n in t)t.hasOwnProperty(n)&&(i=d(n),e.hoboDataMap[i]=t[n])},v=function(t,e){for(var i in e.hoboDataMap)e.hoboDataMap.hasOwnProperty(i)&&!t[i]&&(t[i]=e.hoboDataMap[i])},m=function(t,e){var i=null;return t=d(t),e.hoboDataMap&&e.hoboDataMap[t]&&(i=e.hoboDataMap[t]),i},g=function(t,e){t=d(t),e.hoboDataMap&&e.hoboDataMap[t]&&delete e.hoboDataMap[t]},y=function(t,e){var i,n,o,a=[];for(o in t)t.hasOwnProperty(o)&&(i=e?e+"["+o+"]":o,n=t[o],a.push("object"==typeof n?y(n,i):encodeURIComponent(i)+"="+encodeURIComponent(n)));return a.join("&")},_=function(t){return t.getAttribute("class")||""},b=function(t,e){t.setAttribute("class",e)},w=function(t){if(s.test(t))try{t=JSON.parse(t)}catch(e){throw e}return t},T=function(t){var e=t.attributes.length;for(e;e--;)if(i.test(t.attributes[e].name)){var n=d(t.attributes[e].name.replace(i,""));t.hoboDataMap[n]=w(t.attributes[e].value)}},k=function(t){for(var e in t.dataset)t.dataset.hasOwnProperty(e)&&(t.hoboDataMap[e]=w(t.dataset[e]))};t.exports={version:e,rData:i,rDigit:n,rTag:a,rJson:s,rDocType:r,rFront2Back:l,trimString:u,camelCase:d,makeId:c,makeArray:f,makeData:h,storeData:p,retrieveData:m,mergeData:v,removeData:g,serializeData:y,getClass:_,setClass:b}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(98),a=n(o),s=i(95),r=n(s),l=function(t){return t?t.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\=/g,"&equals;").replace(/\s/g,"&nbsp;").replace(/'/g,"&#x27;").replace(/`/g,"&#x60;"):t},u=function(t,e,i){return a["default"].render(r["default"][t]?r["default"][t]:"",e,i?i:null).replace(/\{\{@\}\}/g,l(JSON.stringify(e)))};e["default"]=u},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(20),a=n(o),s=function(){for(var t=arguments.length,e=Array(t),i=0;t>i;i++)e[i]=arguments[i];if(a["default"].isDev()&&"console"in window){var n="log";"function"==typeof console[e[0]]&&(n=e[0],e=e.slice(1,e.length)),window.console[n](e)}};e["default"]=s},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(7),a=n(o),s=new a["default"];e["default"]=s},function(t){!function(e){t.exports=e()}(function(){var t=window.requestAnimationFrame,e=window.cancelAnimationFrame,i=function(){return this.init.apply(this,arguments)};return i.prototype={constructor:i,init:function(){this._handlers={},this._uid=0,this._started=!1,this._paused=!1,this._cycle=null},go:function(e){if(this._started&&this._cycle)return this;this._started=!0;var i=this,n=function(){i._cycle=t(n),i._started&&"function"==typeof e&&e()};n()},pause:function(){return this._paused=!0,this},play:function(){return this._paused=!1,this},stop:function(){return e(this._cycle),this._paused=!1,this._started=!1,this._cycle=null,this},on:function(t,e){var i=t.split(" ");e._jsControllerID=this.getUID();for(var n=i.length;n--;)"function"==typeof e&&(this._handlers[i[n]]||(this._handlers[i[n]]=[]),this._handlers[i[n]].push(e));return this},off:function(t,e){return this._handlers[t]?(e?this._off(t,e):this._offed(t),this):this},fire:function(t){if(!this._handlers[t])return this;for(var e=[].slice.call(arguments,1),i=this._handlers[t].length;i--;)this._handlers[t][i].apply(this,e);return this},getUID:function(){return this._uid=this._uid+1,this._uid},_off:function(t,e){for(var i=0,n=this._handlers[t].length;n>i;i++)if(e._jsControllerID===this._handlers[t][i]._jsControllerID){this._handlers[t].splice(i,1);break}},_offed:function(t){for(var e=this._handlers[t].length;e--;)this._handlers[t][e]=null;delete this._handlers[t]}},i})},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(1),a=n(o),s=i(30),r=n(s),l=i(125),u=n(l),d=i(96),c=n(d),f=i(29),h=n(f),p=i(9),v=n(p),m=i(12),g=n(m),y=i(37),_=n(y),b=i(6),w=n(b),T=function(t){return t.preventDefault(),!1},k=function(t){return t+"px"},E=function(t,e,i,n){t.style[r["default"].prefixed(t.style,"transform")]="translate3d( "+e+", "+i+", "+n+" )"},j=function(t){var e=!1;if(t){var i=t.getBoundingClientRect();e=i.top<2*window.innerHeight}return e},P=function(t){var e=!1;if(t){var i=t.getBoundingClientRect();e=i.top<window.innerHeight&&i.bottom>0}return e},M=function(t){var e=!1;if(t){var i=t.getBoundingClientRect();e=i.left<window.innerWidth&&i.right>0}return e},C=function(t,e){var i=Math.max.apply(null,t),n=t.length;for(n;n--;)t[n]>=e&&t[n]<i&&(i=t[n]);return i},O=function(t,e){var i=t.length,n=a["default"]([]);for(e=e||P,i;i--;)e(t[i])&&n.push(t[i]);return n},$=function(t){t=t||a["default"]("["+g["default"].imageLoaderAttr+"]"),t.length&&(t.forEach(function(t){t.removeAttribute(g["default"].imageLoaderAttr)}),S(t,N))},S=function(t,e,i){var n=/\?(.*)$/,o=function(t){return parseInt(t,10)},a=null,s=null,r=null,l=null,d=null,c=null,f=null,h=null,p=null;for(e=e||j,t=t||v["default"].page.find(g["default"].lazyImageSelector),i||i===!1||(i=!0),p=t.length;p--;)a=t.eq(p),s=a.data(),l=a[0].clientWidth||a[0].parentNode.clientWidth||window.innerWidth,d=a[0].clientHeight||a[0].parentNode.clientHeight||window.innerHeight,c=Math.max(l,d),h=s.mobileSrc&&_["default"].isDevice()&&window.innerWidth<=g["default"].mobileWidth?s.mobileSrc.replace(n,""):s.imgSrc.replace(n,""),i&&s.variants&&(r=s.variants.split(",").map(o),f=C(r,c),window.devicePixelRatio>1&&(r.splice(r.indexOf(f),1),f=C(r,f)),a[0].setAttribute(g["default"].lazyImageAttr,h+"?format="+f+"w"));return new u["default"]({elements:t,property:g["default"].lazyImageAttr,executor:e})},A=function(t,e){var i=t.sources.length,n=function(){i--,0===i&&(t.loaded=!0,"function"==typeof e&&e())};t.sources.forEach(function(t){"script"===t.type?h["default"](""+g["default"].asyncScriptPath+t.file+"?v="+v["default"].page.data("revision"),function(){t.node=this,n()}):"style"===t.type&&c["default"](""+g["default"].asyncStylePath+t.file+"?v="+v["default"].page.data("revision")).onloadcssdefined(n)})},I=function(t){t.sources.forEach(function(t){"script"===t.type&&t.node?(t.node.parentNode.removeChild(t.node),delete t.node):"style"===t.type&&a["default"]("link[href*='"+t.file+"']").remove()}),t.loaded=!1},D=function(t){t?v["default"].doc.on("DOMMouseScroll mousewheel",T):v["default"].doc.off("DOMMouseScroll mousewheel")},x=function(t){t?v["default"].doc.on("touchmove",T):v["default"].doc.off("touchmove")},V=function(t){var e=0,i=null,n=!1,o=1e3;return t&&(i=getComputedStyle(t)[r["default"].prefixed(t.style,"transition-duration")],n=-1===String(i).indexOf("ms"),o=n?1e3:1,e=parseFloat(i)*o),e},N=function(){return!0},L=function(t){var e=t.length-1,i=0,n=t[e];for(e;e>0;e--)i=Math.floor(Math.random()*(e+1)),n=t[e],t[e]=t[i],t[i]=n;return t},z=function(t){t*=1e3;var e=parseInt(t/6e4,10),i=parseInt(t/1e3,10)%60;return 10>i&&(i="0"+i),e+":"+i},R=function(){return _["default"].isDevice()?{}:{cssProps:{contentZoomingString:!1,tapHighlightColorString:!1,touchCalloutString:!1,touchSelectString:!1,userDragString:!1,userSelectString:!1}}},U=function(t,e,i,n){var o=Math.min(i/t,n/e);return{width:t*o,height:e*o}},H=function(t){var e=a["default"](t),i=e[0].attributes,n={},o=null;for(o in i)i[o]&&(n[i[o].name]=i[o].value);return n},W=function(){return("/"===window.location.pathname?"homepage":window.location.pathname)+window.location.search},F=function(t){var e=t.split("x");return{width:parseInt(e[0],10),height:parseInt(e[1],10)}},q=function(t,e){var i=null,n=Array.isArray(t)?[]:{};if(Array.isArray(e)){for(i=t.length;i--;)n[i]=t[i];for(i=e.length;i--;)n[i]=e[i]}else{for(i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);for(i in e)e.hasOwnProperty(i)&&(n[i]=e[i])}return n},B=function(t){return t.toString().toLowerCase().trim().replace(/&/g,"-and-").replace(/[\s\W-]+/g,"-").replace(/^[-]+|[-]+$/g,"")},G=function(t,e){var i=!0;return a["default"](e).closest("pre").length&&(i=!1),i},Y=function(t){var e=getComputedStyle(t)["background-color"].replace(/^rgb/,"rgba").replace(/\)$/,", 0.8)");w["default"].fire("app--colorplate-change",e)},X=function(){v["default"].html.attr("style",""),w["default"].fire("app--colorplate-change",null)},J={loadImages:S,updateImages:$,loadDependencies:A,getElementsInView:O,isElementLoadable:j,unloadDependencies:I,isElementVisibleVert:P,isElementVisibleHorz:M,disableTouchMove:x,disableMouseWheel:D,px:k,noop:N,preFree:G,shuffle:L,slugify:B,parseTime:z,getAttrMap:H,getPageKey:W,translate3d:E,extendObject:q,getOriginalDims:F,getTransitionDuration:V,getDefaultHammerOptions:R,calculateAspectRatioFit:U,processBgColorForBroadcast:Y,resetBgColorForBroadcast:X};e["default"]=J},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(1),a=n(o),s=a["default"](".js-header"),r={doc:a["default"](document),html:a["default"](document.documentElement),body:a["default"](document.body),page:a["default"](".js-page"),nav:a["default"](".js-menu-nav"),header:{node:s,label:s.find(".js-header-util"),btns:s.find(".js-btn")},intro:a["default"](".js-intro")};e["default"]=r},function(t){!function(e){t.exports=e()}(function(){var t=function(e,i,n){var o=e.matches?"matches":e.webkitMatchesSelector?"webkitMatchesSelector":e.mozMatchesSelector?"mozMatchesSelector":e.msMatchesSelector?"msMatchesSelector":e.oMatchesSelector?"oMatchesSelector":null;return o&&e[o].call(e,i)?e:n&&e!==document.documentElement&&e.parentNode?t(e.parentNode,i,n):null};return t})},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(74),a=n(o),s=i(67),r=n(s),l=i(42),u=n(l),d=i(88),c=n(d),f=i(63),h=n(f),p=i(21),v=n(p),m=i(0),g=n(m),y=i(60),_=n(y),b=i(75),w=n(b),T=i(53),k=n(T),E=i(94),j=n(E),P=i(92),M=n(P),C=i(80),O=n(C),$=i(89),S=n($),A=i(46),I=n(A),D=i(1),x=n(D),V=i(65),N=n(V),L=i(127),z=n(L),R=i(4),U=n(R),H=i(61),W=n(H),F={init:function(t,e){this.app=t,this.state={},this.status=200,this.options=e||{},this.pageDuration=g["default"].util.getTransitionDuration(g["default"].dom.page[0]),this.bindEmptyHashLinks(),this.initPageController(),g["default"].log("router initialized")},initPageController:function(){this.controller=new z["default"](this.options),this.controller.setConfig(["*"]),this.controller.setModules([g["default"].hooks,g["default"].images,r["default"],a["default"],u["default"],c["default"],h["default"],w["default"],k["default"],O["default"],S["default"],W["default"],j["default"],N["default"].grid,N["default"].items,M["default"].studio,M["default"].careers,_["default"].code,_["default"].html,_["default"].image,_["default"].embed,_["default"].gallery,_["default"].annotated]),this.controller.on("page-controller-router-samepage",function(){return v["default"].close()}),this.controller.on("page-controller-router-transition-out",this.changePageOut.bind(this)),this.controller.on("page-controller-router-refresh-document",this.changeContent.bind(this)),this.controller.on("page-controller-router-transition-in",this.changePageIn.bind(this)),this.controller.on("page-controller-initialized-page",this.initPage.bind(this)),this.controller.initPage()},initPage:function(t){this.status=t.status,404===this.status?this.handle404():(v["default"].padPage(),g["default"].emitter.fire("app--analytics-push",this.parseDoc(t.response)))},handle404:function(){g["default"].dom.page[0].innerHTML=U["default"]("PageNotFound",{}),a["default"].setElement(g["default"].dom.page.find(".js-cover"))},setState:function(t,e,i){this.state[t]={checked:!1,keep:i,name:t,value:e}},getState:function(t){var e=null,i=null;for(e in this.state)if(this.state.hasOwnProperty(e)&&this.state[e].name===t){i=this.state[e].value;break}return i},checkState:function(){var t=null;for(t in this.state)this.state.hasOwnProperty(t)&&(this.state[t].checked&&!this.state[t].keep?delete this.state[t]:this.state[t].checked=!0)},addModule:function(t){this.controller.addModule(t),"function"==typeof t.init&&t.init()},topper:function(){g["default"].scrolls.topout(0),g["default"].scrolls.clearStates()},route:function(t){this.controller.getRouter().trigger(t)},push:function(t,e){this.controller.routeSilently(t,e||g["default"].util.noop),this.checkState()},parseDoc:function(t){var e=document.createElement("html"),i=null;return e.innerHTML=t,e=x["default"](e),i=e.find(".js-page"),{$doc:e,$page:i,pageData:i.data(),pageHtml:e.find(".js-page")[0].innerHTML}},bindEmptyHashLinks:function(){g["default"].dom.body.on("click","[href^='#']",function(t){return t.preventDefault()})},onPreloadDone:function(){g["default"].util.disableMouseWheel(!1),g["default"].util.disableTouchMove(!1),g["default"].dom.html.removeClass("is-routing"),g["default"].dom.page.removeClass("is-inactive"),setTimeout(function(){g["default"].emitter.fire("app--intro-art"),I["default"].teardown(),F.topper(),k["default"].onUpdateAnimate()},F.pageDuration),g["default"].emitter.off("app--preload-done",this.onPreloadDone)},changePageOut:function(){g["default"].util.disableMouseWheel(!0),g["default"].util.disableTouchMove(!0),I["default"].init(),g["default"].dom.html.addClass("is-routing"),g["default"].dom.page.addClass("is-inactive"),setTimeout(function(){return v["default"].close()},this.pageDuration),g["default"].emitter.on("app--preload-done",this.onPreloadDone),g["default"].emitter.fire("app--outro-art"),window.app.audiobar.isActive()&&window.app.audiobar.destroy()},changeContent:function(t){if(this.status=t.status,404===this.status)this.handle404();else{var e=this.parseDoc(t.response);g["default"].dom.page[0].innerHTML=e.pageHtml,g["default"].emitter.fire("app--analytics-push",e)}this.topper(),this.checkState()},changePageIn:function(t){var e=t.request.uri.split("/")[0];v["default"].toggleActive(e)}};e["default"]=F},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(20),a=n(o),s=i(16),r=n(s),l={servicesUrl:a["default"].isLocal()?"http://localhost:8000":"https://services.instrument.com",asyncScriptPath:"/assets/async/scripts/",asyncStylePath:"/assets/async/styles/",mobileWidth:640,laptopWidth:1440,tabletWidth:1024,defaultDragBeltOptions:{type:"x",edgeResistance:.6,dragResistance:.25,throwProps:!0,cursor:"grab",lockAxis:!0,zIndexBoost:!1},sqsMaxImgWidth:2500,sysDataVariants:"100w,300w,500w,750w,1000w,1500w,2500w",sqsSpecialProps:{published:"publishOn",userUpload:"systemDataVariants",blockDataKey:"blockJson"},supportedVideoApiProvider:"vimeo",defaultCategory:"All",devCategory:"Development",gridCustomType:"customgrid",caseStudyCustomType:"custom_case_study",articleCustomType:"custom_article",deviceVideoCustomType:"custom_device_video",videoCustomType:"custom_video",autoplayVideoCustomType:"custom_autoplay_video",defaultEasing:r["default"].easeInOutCubic,defaultDuration:400,defaultVideoChannel:"vid",defaultAudioChannel:"bgm",hookNodeSelector:".js-hook-node",lazyImageSelector:".js-lazy-image",lazyImageAttr:"data-img-src",imageLoaderAttr:"data-imageloader",activateLinkAttr:"data-title"};e["default"]=l},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=i(0),r=n(s),l=i(15),u=n(l),d=function(){function t(e,i){o(this,t),this.$node=e,this.id=i,this.bindEvents()}return a(t,[{key:"bindEvents",value:function(){this._onScroll=this.onScroll.bind(this),u["default"].getMedia(this.id)&&this._onScroll(),r["default"].emitter.on("app--scroll",this._onScroll)}},{key:"onScroll",value:function(){r["default"].util.isElementVisibleVert(this.$node[0])?u["default"].isPlaying(this.id)||u["default"].playMedia(this.id):u["default"].isPlaying(this.id)&&u["default"].stopMedia(this.id)}},{key:"destroy",value:function(){r["default"].emitter.off("app--scroll",this._onScroll)}}]),t}();e["default"]=d},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=i(0),r=n(s),l=i(26),u=n(l),d=i(15),c=n(d),f=".mp4",h=/(\.webm)$/,p=/assets\.instrument/,v=function(){function t(e,i){o(this,t),this.$node=e,this.data=i}return a(t,[{key:"getSourceUrl",value:function(t){return p.test(t)?(h.test(t)&&(t+=","+t.replace(h,f)),t):t}},{key:"applyAspect",value:function(){r["default"].detect.isDevice()||(this.$videoAspect[0].style.paddingBottom=this.$videoNode[0].videoHeight/this.$videoNode[0].videoWidth*100+"%")}},{key:"waitForLoadedMetaData",value:function(t){this._onLoadedMetaData=function(){"function"==typeof t&&t()},this.$videoNode.on("loadedmetadata",this._onLoadedMetaData)}},{key:"createMediaNode",value:function(t,e,i){c["default"].addVideo({id:t,src:e.split(","),element:i,channel:r["default"].config.defaultVideoChannel})}},{key:"createScrubber",value:function(){this._scrubber=new u["default"]("video",this.data,{$module:this.$videoItem,$progress:this.$videoItem.find(".js-media-progress"),$scrubber:this.$videoScrub,$time:this.$videoItem.find(".js-media-time"),$duration:this.$videoItem.find(".js-media-duration")})}},{key:"bindEventHandlers",value:function(){var t=this,e=null;this.$videoItem.on("mouseenter",".js-video-el, .js-video-controls",function(){try{clearTimeout(e)}catch(i){r["default"].log("warn","VideoBase clearTimeout Error",i)}c["default"].getMedia(t.data.id)&&t.$videoItem.is(".is-played")&&t.$videoItem.addClass("is-hovered")}).on("mouseleave",".js-video-el, .js-video-controls, .js-media-scrubber, .js-media-progress",function(i){t.$videoWrap&&t.$videoWrap.length&&(t.$videoWrap[0].contains(i.relatedTarget)||(e=setTimeout(function(){t.$videoItem.removeClass("is-hovered")},1e3)))})}},{key:"destroy",value:function(){this._scrubber&&this._scrubber.destroy(),this._onLoadedMetaData&&this.$videoNode.off("loadedmetadata",this._onLoadedMetaData),c["default"].getMedia(this.data.id)&&c["default"].destroyMedia(this.data.id)}}]),t}();e["default"]=v},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(126),a=n(o),s=new a["default"];e["default"]=s},function(t){!function(e){t.exports=e()}(function(){var t={linear:function(t){return t},swing:function(t){return(1-Math.cos(t*Math.PI))/2},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return.5>t?2*t*t:-1+(4-2*t)*t},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return.5>t?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return.5>t?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return.5>t?16*t*t*t*t*t:1+16*--t*t*t*t*t}};return t})},function(t,e,i){!function(e){t.exports=e()}(function(){var t=i(100),e=i(30),n=function(){return this.init.apply(this,arguments)};return n.prototype={constructor:n,init:function(t,i){this._version="0.2.0",this._handlers={},this._hammer=new e(t||document.body,i)},getInstance:function(){return this._hammer},getHandlers:function(){return this._handlers},on:function(e,i,n){var o="Hammered"+(this._version+Math.random()+(e+"-"+i)).replace(/\W/g,""),a=function(e){var o=t(e.target,i);o&&n.call(o,e)};a._hammerUID=o,n._hammerUID=o,this._hammer.on(e,a),this._handlers[o]=a},off:function(t,e){var i;for(i in this._handlers)if(i===e._hammerUID&&this._handlers[i]._hammerUID===e._hammerUID){this._hammer.off(t,this._handlers[i]),delete this._handlers[i];break}}},n})},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(52),a=n(o),s=i(0),r=n(s),l=i(1),u=n(l),d=function(t){var e=t.find("p > a, ol a, ul a"),i=function(t){t&&this.addClass("js-tip").data("tip",new a["default"](t.item?t.item.title:t.collection.title))},n=e.length,o=null,s=null;for(n;n--;)o=e.eq(n),o[0].hostname===location.hostname?(s=o[0].href.replace(location.origin,""),r["default"].api.collection(s).then(i.bind(o))):o.addClass("js-tip").data("tip",new a["default"](o[0].href.replace(/http[s]?:\/\/|www\./g,"")));t.on("mouseenter",".js-tip",f).on("mousemove",".js-tip",f).on("mouseleave",".js-tip",c)},c=function(){var t=u["default"](this),e=t.data("tip");e.remove()},f=function(t){var e=u["default"](this),i=e.data("tip"),n=i.getSize(),o=t.clientX-n.width/2,a=t.clientY-n.height-10;i.append(),i.setPosition(o,a)};e["default"]=d},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(49),a=n(o),s=i(0),r=n(s),l=i(1),u=n(l),d=i(4),c=n(d),f=null,h=null,p={init:function(){r["default"].log("grid initialized")},isActive:function(){return this.getElements()>0},onload:function(){var t=f.data();h=new a["default"](f,t)},unload:function(){this.teardown()},teardown:function(){f=null,h&&(h.destroy(),h=null)},getElements:function(){return f=r["default"].dom.page.find(".js-grid"),f.length},getMappedItems:function(t){return t.map(function(t){return-1!==t.categories.indexOf(r["default"].config.devCategory)&&!t[r["default"].config.sqsSpecialProps.userUpload]&&t.customContent.formattedTitle.source?t.title=t.customContent.formattedTitle.html:t.excerpt&&(t.title=t.excerpt),t})},getGridCluster:function(t){return c["default"]("GridWall",{items:t})},loadGridImages:function(t,e){r["default"].util.loadImages(t,r["default"].util.noop).on("done",function(){return e()})},loadGridCluster:function(t){var e=this,i=u["default"](this.getGridCluster(t));return new Promise(function(t){e.loadGridImages(i.find(".js-grid-image"),function(){return t(i)})})}};e["default"]=p},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i="development",n="production",o={ENV:/^localhost|squarespace\.com$|^[0-9]{0,3}\.[0-9]{0,3}\.[0-9]{0,3}\.[0-9]{0,3}/g.test(document.domain)?i:n,isDev:function(){return this.ENV===i},isLocal:function(){return/^localhost/.test(document.domain)},isConfig:function(){return-1!==window.parent.location.pathname.indexOf("/config")}};e["default"]=o},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(28),a=n(o),s=i(0),r=n(s),l=i(17),u=n(l),d={init:function(){this.navItems=r["default"].dom.nav.find(".js-menu-nav-item"),this.isTipinAble=!1,this.isLeftBehind=!1,this.isDisabled=!1,this.isAnimDisabled=!1,this.threshold=500,this.menu=new a["default"](r["default"].dom.nav),this.hammers={},this.bindMainEvents(),this.bindScrollEvents(),r["default"].log("nav initialized")},open:function(){this.menu.isActive()||(this.menu.open(),this.hammers.menu.on("tap",".js-menu-nav",y))},close:function(){this.menu.isActive()&&(this.menu.close(),this.hammers.menu.off("tap",y))},padPage:function(t){t=void 0!==t?t:r["default"].dom.header.node[0].clientHeight,r["default"].dom.page[0].style.paddingTop=r["default"].util.px(t)},toggleActive:function(t){this.navItems.removeClass("is-active"),t&&this.navItems.filter(".menu-nav__a--"+t).addClass("is-active")},disableHeader:function(t){this.isDisabled=t},disableHeaderAnim:function(t){this.isAnimDisabled=t},resetHeader:function(){r["default"].dom.header.node.removeClass("is-tipinable").addClass("is-toppable"),this.isTipinAble=!1,this.isLeftBehind=!1,this.isDisabled=!1,this.isAnimDisabled=!1,c(0)},revealHeader:function(){r["default"].dom.header.node.removeClass("is-inactive")},cycleHeader:function(){var t=this;r["default"].dom.header.node.addClass("is-inactive"),setTimeout(function(){t.resetHeader(),t.revealHeader()},r["default"].config.defaultDuration)},bindMainEvents:function(){this.hammers.icon=new u["default"](r["default"].dom.header.node[0],r["default"].util.getDefaultHammerOptions()),this.hammers.icon.on("tap",".js-controller--nav",_),this.hammers.menu=new u["default"](r["default"].dom.nav[0],r["default"].util.getDefaultHammerOptions()),r["default"].emitter.on("app--colorplate-change",f),r["default"].emitter.on("app--intro-art",h),r["default"].emitter.on("app--outro-art",p),r["default"].emitter.on("app--resize-debounced",this.padPage.bind(this))},bindScrollEvents:function(){r["default"].scroller.on("scroll",v),r["default"].scroller.on("scrollup",m),r["default"].scroller.on("scrolldown",g)}},c=function(t){r["default"].util.translate3d(r["default"].dom.header.node[0],0,r["default"].util.px(t),0)},f=function(t){t?r["default"].dom.header.node[0].style.backgroundColor=t:r["default"].dom.header.node.attr("style","")},h=function(){d.isAnimDisabled=!1,d.padPage(),d.resetHeader(),d.revealHeader()},p=function(){d.isAnimDisabled||(r["default"].dom.header.node.addClass("is-inactive"),setTimeout(function(){d.resetHeader()},r["default"].config.defaultDuration))},v=function(){var t=r["default"].scroller.getScrollY(),e=r["default"].dom.header.node[0].getBoundingClientRect(),i=2*e.height,n=t/2;return 0>=t&&d.isTipinAble?(d.isTipinAble=!1,void r["default"].dom.header.node.removeClass("is-tipinable").addClass("is-toppable")):void(i>=t&&!d.isTipinAble?(d.isLeftBehind&&(d.isLeftBehind=!1),r["default"].dom.header.node.removeClass("is-tipinable"),c(-n)):t>i&&!d.isLeftBehind&&(d.isLeftBehind=!0,r["default"].dom.header.node.addClass("is-tipinable").removeClass("is-toppable"),c(-e.height)))},m=function(){var t=r["default"].scroller.getScrollY();d.isLeftBehind&&t>=d.threshold&&(d.isTipinAble=!0,c(0))},g=function(){var t=r["default"].scroller.getScrollY(),e=r["default"].dom.header.node[0].getBoundingClientRect();d.isLeftBehind&&t>=d.threshold&&(d.isTipinAble=!1,c(-e.height))},y=function(t){t.target instanceof SVGElement||"A"===t.target.tagName||d.close()},_=function(){d.open()};e["default"]=d},function(t,e,i){!function(e){t.exports=e()}(function(){var t=i(16),e={ease:t.linear,duration:600,from:0,to:0,delay:0,update:function(){},complete:function(){}},n=function(t){function i(e){if(!r){null===a&&(a=e);var n=e-a,l=o*t.ease(n/t.duration)+t.from;return"function"==typeof t.update&&t.update(l),n>t.duration?("function"==typeof t.complete&&t.complete(t.to),cancelAnimationFrame(s),s=null,!1):void(s=requestAnimationFrame(i))}}t=t||{};for(var n in e)void 0===t[n]&&(t[n]=e[n]);var o=t.to-t.from,a=null,s=null,r=!1;setTimeout(function(){s=requestAnimationFrame(i)},t.delay),this.stop=function(){r=!0,cancelAnimationFrame(s),s=null}};return n})},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){var e=t.find(".js-figure-caption");e.length&&t.addClass("is-captioned")};e["default"]=i},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=i(5),r=n(s),l=i(8),u=n(l),d=null,c=!1,f={},h="instrument-cache",p=window.sessionStorage,v=function(){function t(e){return o(this,t),d||(d=this,this._opts=e,this._init()),d}return a(t,[{key:"_init",value:function(){c||(c=!0,this.flush(),r["default"]("Singleton Store initialized",this))}},{key:"flush",value:function(){f={},this.save()}},{key:"save",value:function(){return this._opts.enableStorage&&t.isStorageSupported?void p.setItem(h,JSON.stringify(f)):void r["default"]("Cache Storage disabled - Not writing to SessionStorage")}},{key:"set",value:function(t,e){t=u["default"].slugify(t),f[t]=e,this.save()}},{key:"get",value:function(t){return t=t&&u["default"].slugify(t),t?this.getValue(f[t]):f}},{key:"getValue",value:function(t){return"string"==typeof t?String(t):t?u["default"].extendObject(Array.isArray(t)?[]:{},t):null}},{key:"remove",value:function(t){delete f[t]}}]),t}();v.crumb=function(){var t=RegExp("(^|; )"+encodeURIComponent("crumb")+"=([^;]*)").exec(document.cookie);return t?t[2]:null}(),v.isStorageSupported=function(){var t=!0;try{p.setItem("instrument-test",1),p.removeItem("instrument-test")}catch(e){t=!1}return t}(),e["default"]=v},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(1),a=n(o),s=i(31),r=n(s),l=i(12),u=n(l),d=i(8),c=n(d),f=i(24),h=n(f),p=/^\/|\/$/g,v={data:{vimeo:{api:"https://api.vimeo.com/videos",key:"4fe810e95b5a32a53133739750ef23e4"},greenhouse:{api:"https://api.greenhouse.io/v1/boards/instrument/embed"},instrument:{apply:u["default"].servicesUrl+"/greenhouse/apply",customgrid:u["default"].servicesUrl+"/squarespace/customgrid"
},squarespace:{url:location.origin,api:[location.origin,"api"].join("/"),record:"census/RecordHit"}},dataType:"json",format:"json",method:"GET",endpoint:function(t){return[this.data.squarespace.url,t.replace(p,"")].join("/")},apipoint:function(t){return[this.data.squarespace.api,t.replace(p,"")].join("/")},request:function(t,e,i){var n=c["default"].extendObject({format:this.format,nocache:!0},e),o=c["default"].extendObject({url:t,data:n,dataType:this.dataType,method:this.method},i);return a["default"].ajax(o)},collection:function(t,e,i){var n=this;return new Promise(function(o,a){var s={},l=t.split("?")[0];e=c["default"].extendObject({},e),e=c["default"].extendObject(e,r["default"](t)),e.tag&&(e.tag=e.tag.replace(/\+/g," ")),e.category&&(e.category=e.category.replace(/\+/g," ")),n.request(n.endpoint(l),e,i).then(function(t){"string"==typeof t?o(t):(s={collection:t.collection,item:t.item||null,items:t.items||null,pagination:t.pagination||null},o(s))})["catch"](function(t){a(t)})})},record:function(t,e,i){var n={url:window.location.href,queryString:window.location.search,userAgent:window.navigator.userAgent,referrer:"",localStorageSupported:h["default"].isStorageSupported,viewportInnerHeight:window.innerHeight,viewportInnerWidth:window.innerWidth,screenHeight:window.screen.height,screenWidth:window.screen.width,title:i,websiteId:t,templateId:t};return e.itemId?n.itemId=e.itemId:n.collectionId=e.collectionId,a["default"].ajax({url:this.apipoint(this.data.squarespace.record)+"?crumb="+h["default"].crumb,method:"POST",data:{event:"View",data:JSON.stringify(n)},dataType:"json",headers:{"Content-Type":"application/x-www-form-urlencoded"}})},vimeo:function(t){return a["default"].ajax({url:this.data.vimeo.api+"/"+t,method:"GET",data:{access_token:this.data.vimeo.key},dataType:"json"})},job:function(t){var e=c["default"].extendObject({},t||{});return a["default"].ajax({url:this.data.greenhouse.api+"/job",method:"GET",data:e,dataType:"jsonp"})},apply:function(t){return a["default"].ajax({url:this.data.instrument.apply,method:"POST",data:t,dataType:"json",headers:{"Content-Type":"application/x-www-form-urlencoded"}})},customgrid:function(t){return a["default"].ajax({url:this.data.instrument.customgrid+"/"+t,method:"GET",dataType:"json"})}};e["default"]=v},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=i(0),r=n(s),l=i(15),u=n(l),d=i(22),c=n(d),f=i(16),h=n(f),p=i(17),v=n(p),m=function(){function t(e,i,n){o(this,t),this.ui=n,this.type=e,this.data=i,this._onScrubPanStart=this.onScrubPanStart.bind(this),this._onScrubPanEnd=this.onScrubPanEnd.bind(this),this._onScrubPanLeft=this.onScrubPan.bind(this),this._onScrubPanRight=this.onScrubPan.bind(this),this._onScrubTap=this.onScrubTap.bind(this),this.hammered=new v["default"](this.ui.$module[0],r["default"].util.getDefaultHammerOptions()),this.hammered.on("panstart",".js-media-scrubber",this._onScrubPanStart),this.hammered.on("panend",".js-media-scrubber",this._onScrubPanEnd),this.hammered.on("panleft",".js-media-scrubber",this._onScrubPanLeft),this.hammered.on("panright",".js-media-scrubber",this._onScrubPanRight),this.hammered.on("tap",".js-media-scrubber",this._onScrubTap),this.bindMediaEvents(this.data)}return a(t,[{key:"updateCurrentTime",value:function(t){this.ui.$time[0].innerText=r["default"].util.parseTime(t),"audio"!==this.type&&this.updateTimePosition()}},{key:"updateTimePosition",value:function(){var t=this.ui.$progress[0].clientWidth-this.ui.$time[0].clientWidth/2,e=this.ui.$scrubber[0].clientWidth-30-(this.ui.$duration[0].clientWidth+this.ui.$time[0].clientWidth+20);this.ui.$time[0].style.left=r["default"].util.px(Math.min(t,e)),t>=e?this.ui.$duration.addClass("is-static"):this.ui.$duration.removeClass("is-static")}},{key:"onLoadedMetaData",value:function(){var t=u["default"].getMediaProp(this.data.id,"duration");this.ui.$duration[0].innerText=r["default"].util.parseTime(t)}},{key:"onTimeUpdate",value:function(){var t=u["default"].getMediaProp(this.data.id,"duration"),e=u["default"].getMediaProp(this.data.id,"currentTime"),i=e/t*100+"%";this.ui.$progress[0].style.width=i,this.updateCurrentTime(e)}},{key:"onScrubPan",value:function(t){var e=t.srcEvent.clientX-this.ui.$progress[0].getBoundingClientRect().left,i=e/this.ui.$scrubber[0].clientWidth,n=i*u["default"].getMediaProp(this.data.id,"duration");u["default"].stopMedia(this.data.id),this.ui.$progress[0].style.width=r["default"].util.px(e),this.updateCurrentTime(n)}},{key:"onScrubPanEnd",value:function(t){var e=this,i=t.srcEvent.clientX-this.ui.$progress[0].getBoundingClientRect().left,n=i/this.ui.$scrubber[0].clientWidth,o=n*u["default"].getMediaProp(this.data.id,"duration");this.ui.$scrubber.removeClass("is-scrubbing"),u["default"].setMediaProp(this.data.id,"currentTime",o),setTimeout(function(){u["default"].playMedia(e.data.id)},r["default"].config.defaultDuration)}},{key:"onScrubPanStart",value:function(){this.ui.$scrubber.addClass("is-scrubbing")}},{key:"onScrubTap",value:function(t){var e=this,i=t.srcEvent.clientX-this.ui.$progress[0].getBoundingClientRect().left,n=null,o=null;return u["default"].stopMedia(this.data.id),c["default"]({to:i,from:this.ui.$progress[0].clientWidth,ease:h["default"].easeOutCubic,update:function(t){n=t/e.ui.$scrubber[0].clientWidth,o=n*u["default"].getMediaProp(e.data.id,"duration"),e.ui.$progress[0].style.width=r["default"].util.px(t),e.updateCurrentTime(o)},complete:function(t){n=t/e.ui.$scrubber[0].clientWidth,o=n*u["default"].getMediaProp(e.data.id,"duration"),u["default"].setMediaProp(e.data.id,"currentTime",o).playMedia(e.data.id),e.updateCurrentTime(o)},duration:600})}},{key:"bindMediaEvents",value:function(t){this._onLoadedMetaData=this.onLoadedMetaData.bind(this),this._onTimeUpdate=this.onTimeUpdate.bind(this),u["default"].addMediaEvent(t.id,"loadedmetadata",this._onLoadedMetaData).addMediaEvent(t.id,"timeupdate",this._onTimeUpdate)}},{key:"unbindMediaEvents",value:function(t){u["default"].removeMediaEvent(t.id,"loadedmetadata").removeMediaEvent(t.id,"timeupdate")}},{key:"destroy",value:function(){this.hammered.off("panstart",this._onScrubPanStart),this.hammered.off("panend",this._onScrubPanEnd),this.hammered.off("panleft",this._onScrubPanLeft),this.hammered.off("panright",this._onScrubPanRight),this.hammered.off("tap",this._onScrubTap)}},{key:"resetUI",value:function(t){this.ui.$progress[0].style.width=r["default"].util.px(0),this.ui.$time[0].innerText="0:00",this.ui.$duration.removeClass("is-static"),t&&(this.ui.$duration[0].innerText=r["default"].util.parseTime(t))}}],[{key:"stopChannels",value:function(){u["default"].fadeChannelOut(r["default"].config.defaultAudioChannel),u["default"].fadeChannelOut(r["default"].config.defaultVideoChannel),u["default"].fadeChannelOut(r["default"].config.autoplayVideoChannel)}}]),t}();e["default"]=m},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=i(1),r=n(s),l=i(0),u=n(l),d=i(4),c=n(d),f=function(){function t(e,i){o(this,t),this.$node=e,this.data=i,this.data.oembed.html?this.initVideo():u["default"].log("warn","VideoEmbed requires `oembed` data")}return a(t,[{key:"initVideo",value:function(){this.$videoItem=r["default"](c["default"]("VideoEmbed",{body:this.data.body,oembed:this.data.oembed.html,assetUrl:this.data.assetUrl,paddingBottom:this.data.oembed.height/this.data.oembed.width*100+"%"})),this.$videoPoster=this.$videoItem.find(".js-video-poster"),this.$videoInfo=this.$videoItem.find(".js-video-info"),this.$videoIframe=this.$videoItem.find("iframe"),this.handlePoster(),this.$node[0].innerHTML="",this.$node.append(this.$videoItem[0])}},{key:"handlePoster",value:function(){var t=this;this.$videoItem.on("click",".js-video-info",function(){t.$videoItem.off("click").addClass("is-played"),"vimeo"===t.data.oembed.providerName?t.$videoIframe[0].contentWindow.postMessage('{"method": "play", "value": "true"}',"*"):"youtube"===t.data.oembed.providerName&&t.$videoIframe[0].contentWindow.postMessage('{"event": "command", "func": "playVideo", "args": ""}',"*")}),u["default"].util.loadImages(this.$videoPoster,u["default"].util.noop).on("done",function(){t.$videoPoster.addClass("is-active")})}}]),t}();e["default"]=f},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=i(21),r=n(s),l=i(0),u=n(l),d=function(){function t(e){o(this,t),this.$node=e,this.data=this.$node.data(),this.tDuration=u["default"].util.getTransitionDuration(this.$node[0]),this.isOpen=!1,this.scrollPos=u["default"].scroller.getScrollY(),this.bind()}return a(t,[{key:"bind",value:function(){var t=this;u["default"].emitter.on("app--keydown",function(e,i){e.keyCode===u["default"].keys.ESC&&t.isOpen&&t.close(),e.keyCode!==u["default"].keys.ENTER||t.isOpen||-1===i.className.indexOf(t.data.trigger)||t.open()})}},{key:"open",value:function(){var t=this;this.isOpen=!0,u["default"].dom.html.addClass("is-menu-open"),r["default"].disableHeader(!0),this.scrollPos=u["default"].scroller.getScrollY(),u["default"].scrolls.suppress(!0),u["default"].emitter.fire("app--menu-opened"),this.$node.attr("tabindex","-1"),u["default"].dom.header.btns.attr("tabindex","-1"),this.$node[0].focus(),setTimeout(function(){return t.$node.addClass("is-active")},0),setTimeout(function(){t.$node.addClass("is-active-events"),u["default"].dom.html.addClass("is-clipped"),u["default"].dom.body.addClass("is-clipped")},2*this.tDuration)}},{key:"close",value:function(){var t=this;this.isOpen=!1,this.$node.removeClass("is-active"),u["default"].dom.html.removeClass("is-clipped"),u["default"].dom.body.removeClass("is-clipped"),u["default"].dom.body[0].scrollTop=this.scrollPos,u["default"].scrolls.suppress(!1),u["default"].emitter.fire("app--menu-closed"),this.$node.removeAttr("tabindex"),u["default"].dom.header.btns.removeAttr("tabindex"),setTimeout(function(){r["default"].disableHeader(!1),u["default"].dom.html.removeClass("is-menu-open"),t.$node.removeClass("is-active-events")},2*this.tDuration)}},{key:"toggle",value:function(){this.isOpen?this.close():this.open()}},{key:"isActive",value:function(){return this.isOpen}}]),t}();e["default"]=d},function(t,e,i){(function(e){!function(e){var i=function(t,i){"use strict";var n=e.document.getElementsByTagName("script")[0],o=e.document.createElement("script");return o.src=t,o.async=!0,n.parentNode.insertBefore(o,n),i&&"function"==typeof i&&(o.onload=i),o};t.exports=i}("undefined"!=typeof e?e:this)}).call(e,i(32))},function(t,e,i){var n;!function(o,a,s,r){"use strict";function l(t,e,i){return setTimeout(h(t,i),e)}function u(t,e,i){return Array.isArray(t)?(d(t,i[e],i),!0):!1}function d(t,e,i){var n;if(t)if(t.forEach)t.forEach(e,i);else if(t.length!==r)for(n=0;n<t.length;)e.call(i,t[n],n,t),n++;else for(n in t)t.hasOwnProperty(n)&&e.call(i,t[n],n,t)}function c(t,e,i){var n="DEPRECATED METHOD: "+e+"\n"+i+" AT \n";return function(){var e=new Error("get-stack-trace"),i=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",a=o.console&&(o.console.warn||o.console.log);return a&&a.call(o.console,n,i),t.apply(this,arguments)}}function f(t,e,i){var n,o=e.prototype;n=t.prototype=Object.create(o),n.constructor=t,n._super=o,i&&vt(n,i)}function h(t,e){return function(){return t.apply(e,arguments)}}function p(t,e){return typeof t==yt?t.apply(e?e[0]||r:r,e):t}function v(t,e){return t===r?e:t}function m(t,e,i){d(b(e),function(e){t.addEventListener(e,i,!1)})}function g(t,e,i){d(b(e),function(e){t.removeEventListener(e,i,!1)})}function y(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function _(t,e){return t.indexOf(e)>-1}function b(t){return t.trim().split(/\s+/g)}function w(t,e,i){if(t.indexOf&&!i)return t.indexOf(e);for(var n=0;n<t.length;){if(i&&t[n][i]==e||!i&&t[n]===e)return n;n++}return-1}function T(t){return Array.prototype.slice.call(t,0)}function k(t,e,i){for(var n=[],o=[],a=0;a<t.length;){var s=e?t[a][e]:t[a];w(o,s)<0&&n.push(t[a]),o[a]=s,a++}return i&&(n=e?n.sort(function(t,i){return t[e]>i[e]}):n.sort()),n}function E(t,e){for(var i,n,o=e[0].toUpperCase()+e.slice(1),a=0;a<mt.length;){if(i=mt[a],n=i?i+o:e,n in t)return n;a++}return r}function j(){return Et++}function P(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||o}function M(t,e){var i=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){p(t.options.enable,[t])&&i.handler(e)},this.init()}function C(t){var e,i=t.options.inputClass;return new(e=i?i:Mt?H:Ct?q:Pt?G:U)(t,O)}function O(t,e,i){var n=i.pointers.length,o=i.changedPointers.length,a=e&Dt&&n-o===0,s=e&(Vt|Nt)&&n-o===0;i.isFirst=!!a,i.isFinal=!!s,a&&(t.session={}),i.eventType=e,$(t,i),t.emit("hammer.input",i),t.recognize(i),t.session.prevInput=i}function $(t,e){var i=t.session,n=e.pointers,o=n.length;i.firstInput||(i.firstInput=I(e)),o>1&&!i.firstMultiple?i.firstMultiple=I(e):1===o&&(i.firstMultiple=!1);var a=i.firstInput,s=i.firstMultiple,r=s?s.center:a.center,l=e.center=D(n);e.timeStamp=wt(),e.deltaTime=e.timeStamp-a.timeStamp,e.angle=L(r,l),e.distance=N(r,l),S(i,e),e.offsetDirection=V(e.deltaX,e.deltaY);var u=x(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=u.x,e.overallVelocityY=u.y,e.overallVelocity=bt(u.x)>bt(u.y)?u.x:u.y,e.scale=s?R(s.pointers,n):1,e.rotation=s?z(s.pointers,n):0,e.maxPointers=i.prevInput?e.pointers.length>i.prevInput.maxPointers?e.pointers.length:i.prevInput.maxPointers:e.pointers.length,A(i,e);var d=t.element;y(e.srcEvent.target,d)&&(d=e.srcEvent.target),e.target=d}function S(t,e){var i=e.center,n=t.offsetDelta||{},o=t.prevDelta||{},a=t.prevInput||{};(e.eventType===Dt||a.eventType===Vt)&&(o=t.prevDelta={x:a.deltaX||0,y:a.deltaY||0},n=t.offsetDelta={x:i.x,y:i.y}),e.deltaX=o.x+(i.x-n.x),e.deltaY=o.y+(i.y-n.y)}function A(t,e){var i,n,o,a,s=t.lastInterval||e,l=e.timeStamp-s.timeStamp;if(e.eventType!=Nt&&(l>It||s.velocity===r)){var u=e.deltaX-s.deltaX,d=e.deltaY-s.deltaY,c=x(l,u,d);n=c.x,o=c.y,i=bt(c.x)>bt(c.y)?c.x:c.y,a=V(u,d),t.lastInterval=e}else i=s.velocity,n=s.velocityX,o=s.velocityY,a=s.direction;e.velocity=i,e.velocityX=n,e.velocityY=o,e.direction=a}function I(t){for(var e=[],i=0;i<t.pointers.length;)e[i]={clientX:_t(t.pointers[i].clientX),clientY:_t(t.pointers[i].clientY)},i++;return{timeStamp:wt(),pointers:e,center:D(e),deltaX:t.deltaX,deltaY:t.deltaY}}function D(t){var e=t.length;if(1===e)return{x:_t(t[0].clientX),y:_t(t[0].clientY)};for(var i=0,n=0,o=0;e>o;)i+=t[o].clientX,n+=t[o].clientY,o++;return{x:_t(i/e),y:_t(n/e)}}function x(t,e,i){return{x:e/t||0,y:i/t||0}}function V(t,e){return t===e?Lt:bt(t)>=bt(e)?0>t?zt:Rt:0>e?Ut:Ht}function N(t,e,i){i||(i=Bt);var n=e[i[0]]-t[i[0]],o=e[i[1]]-t[i[1]];return Math.sqrt(n*n+o*o)}function L(t,e,i){i||(i=Bt);var n=e[i[0]]-t[i[0]],o=e[i[1]]-t[i[1]];return 180*Math.atan2(o,n)/Math.PI}function z(t,e){return L(e[1],e[0],Gt)+L(t[1],t[0],Gt)}function R(t,e){return N(e[0],e[1],Gt)/N(t[0],t[1],Gt)}function U(){this.evEl=Xt,this.evWin=Jt,this.pressed=!1,M.apply(this,arguments)}function H(){this.evEl=Zt,this.evWin=te,M.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function W(){this.evTarget=ie,this.evWin=ne,this.started=!1,M.apply(this,arguments)}function F(t,e){var i=T(t.touches),n=T(t.changedTouches);return e&(Vt|Nt)&&(i=k(i.concat(n),"identifier",!0)),[i,n]}function q(){this.evTarget=ae,this.targetIds={},M.apply(this,arguments)}function B(t,e){var i=T(t.touches),n=this.targetIds;if(e&(Dt|xt)&&1===i.length)return n[i[0].identifier]=!0,[i,i];var o,a,s=T(t.changedTouches),r=[],l=this.target;if(a=i.filter(function(t){return y(t.target,l)}),e===Dt)for(o=0;o<a.length;)n[a[o].identifier]=!0,o++;for(o=0;o<s.length;)n[s[o].identifier]&&r.push(s[o]),e&(Vt|Nt)&&delete n[s[o].identifier],o++;return r.length?[k(a.concat(r),"identifier",!0),r]:void 0}function G(){M.apply(this,arguments);var t=h(this.handler,this);this.touch=new q(this.manager,t),this.mouse=new U(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function Y(t,e){t&Dt?(this.primaryTouch=e.changedPointers[0].identifier,X.call(this,e)):t&(Vt|Nt)&&X.call(this,e)}function X(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var i={x:e.clientX,y:e.clientY};this.lastTouches.push(i);var n=this.lastTouches,o=function(){var t=n.indexOf(i);t>-1&&n.splice(t,1)};setTimeout(o,se)}}function J(t){for(var e=t.srcEvent.clientX,i=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var o=this.lastTouches[n],a=Math.abs(e-o.x),s=Math.abs(i-o.y);if(re>=a&&re>=s)return!0}return!1}function K(t,e){this.manager=t,this.set(e)}function Q(t){if(_(t,he))return he;var e=_(t,pe),i=_(t,ve);return e&&i?he:e||i?e?pe:ve:_(t,fe)?fe:ce}function Z(){if(!ue)return!1;var t={},e=o.CSS&&o.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(i){t[i]=e?o.CSS.supports("touch-action",i):!0}),t}function tt(t){this.options=vt({},this.defaults,t||{}),this.id=j(),this.manager=null,this.options.enable=v(this.options.enable,!0),this.state=ge,this.simultaneous={},this.requireFail=[]}function et(t){return t&Te?"cancel":t&be?"end":t&_e?"move":t&ye?"start":""}function it(t){return t==Ht?"down":t==Ut?"up":t==zt?"left":t==Rt?"right":""}function nt(t,e){var i=e.manager;return i?i.get(t):t}function ot(){tt.apply(this,arguments)}function at(){ot.apply(this,arguments),this.pX=null,this.pY=null}function st(){ot.apply(this,arguments)}function rt(){tt.apply(this,arguments),this._timer=null,this._input=null}function lt(){ot.apply(this,arguments)}function ut(){ot.apply(this,arguments)}function dt(){tt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ct(t,e){return e=e||{},e.recognizers=v(e.recognizers,ct.defaults.preset),new ft(t,e)}function ft(t,e){this.options=vt({},ct.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=C(this),this.touchAction=new K(this,this.options.touchAction),ht(this,!0),d(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function ht(t,e){var i=t.element;if(i.style){var n;d(t.options.cssProps,function(o,a){n=E(i.style,a),e?(t.oldCssProps[n]=i.style[n],i.style[n]=o):i.style[n]=t.oldCssProps[n]||""}),e||(t.oldCssProps={})}}function pt(t,e){var i=a.createEvent("Event");i.initEvent(t,!0,!0),i.gesture=e,e.target.dispatchEvent(i)}var vt,mt=["","webkit","Moz","MS","ms","o"],gt=a.createElement("div"),yt="function",_t=Math.round,bt=Math.abs,wt=Date.now;vt="function"!=typeof Object.assign?function(t){if(t===r||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var n=arguments[i];if(n!==r&&null!==n)for(var o in n)n.hasOwnProperty(o)&&(e[o]=n[o])}return e}:Object.assign;var Tt=c(function(t,e,i){for(var n=Object.keys(e),o=0;o<n.length;)(!i||i&&t[n[o]]===r)&&(t[n[o]]=e[n[o]]),o++;return t},"extend","Use `assign`."),kt=c(function(t,e){return Tt(t,e,!0)},"merge","Use `assign`."),Et=1,jt=/mobile|tablet|ip(ad|hone|od)|android/i,Pt="ontouchstart"in o,Mt=E(o,"PointerEvent")!==r,Ct=Pt&&jt.test(navigator.userAgent),Ot="touch",$t="pen",St="mouse",At="kinect",It=25,Dt=1,xt=2,Vt=4,Nt=8,Lt=1,zt=2,Rt=4,Ut=8,Ht=16,Wt=zt|Rt,Ft=Ut|Ht,qt=Wt|Ft,Bt=["x","y"],Gt=["clientX","clientY"];M.prototype={handler:function(){},init:function(){this.evEl&&m(this.element,this.evEl,this.domHandler),this.evTarget&&m(this.target,this.evTarget,this.domHandler),this.evWin&&m(P(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&g(this.element,this.evEl,this.domHandler),this.evTarget&&g(this.target,this.evTarget,this.domHandler),this.evWin&&g(P(this.element),this.evWin,this.domHandler)}};var Yt={mousedown:Dt,mousemove:xt,mouseup:Vt},Xt="mousedown",Jt="mousemove mouseup";f(U,M,{handler:function(t){var e=Yt[t.type];e&Dt&&0===t.button&&(this.pressed=!0),e&xt&&1!==t.which&&(e=Vt),this.pressed&&(e&Vt&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:St,srcEvent:t}))}});var Kt={pointerdown:Dt,pointermove:xt,pointerup:Vt,pointercancel:Nt,pointerout:Nt},Qt={2:Ot,3:$t,4:St,5:At},Zt="pointerdown",te="pointermove pointerup pointercancel";o.MSPointerEvent&&!o.PointerEvent&&(Zt="MSPointerDown",te="MSPointerMove MSPointerUp MSPointerCancel"),f(H,M,{handler:function(t){var e=this.store,i=!1,n=t.type.toLowerCase().replace("ms",""),o=Kt[n],a=Qt[t.pointerType]||t.pointerType,s=a==Ot,r=w(e,t.pointerId,"pointerId");o&Dt&&(0===t.button||s)?0>r&&(e.push(t),r=e.length-1):o&(Vt|Nt)&&(i=!0),0>r||(e[r]=t,this.callback(this.manager,o,{pointers:e,changedPointers:[t],pointerType:a,srcEvent:t}),i&&e.splice(r,1))}});var ee={touchstart:Dt,touchmove:xt,touchend:Vt,touchcancel:Nt},ie="touchstart",ne="touchstart touchmove touchend touchcancel";f(W,M,{handler:function(t){var e=ee[t.type];if(e===Dt&&(this.started=!0),this.started){var i=F.call(this,t,e);e&(Vt|Nt)&&i[0].length-i[1].length===0&&(this.started=!1),this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:Ot,srcEvent:t})}}});var oe={touchstart:Dt,touchmove:xt,touchend:Vt,touchcancel:Nt},ae="touchstart touchmove touchend touchcancel";f(q,M,{handler:function(t){var e=oe[t.type],i=B.call(this,t,e);i&&this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:Ot,srcEvent:t})}});var se=2500,re=25;f(G,M,{handler:function(t,e,i){var n=i.pointerType==Ot,o=i.pointerType==St;if(!(o&&i.sourceCapabilities&&i.sourceCapabilities.firesTouchEvents)){if(n)Y.call(this,e,i);else if(o&&J.call(this,i))return;this.callback(t,e,i)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var le=E(gt.style,"touchAction"),ue=le!==r,de="compute",ce="auto",fe="manipulation",he="none",pe="pan-x",ve="pan-y",me=Z();K.prototype={set:function(t){t==de&&(t=this.compute()),ue&&this.manager.element.style&&me[t]&&(this.manager.element.style[le]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return d(this.manager.recognizers,function(e){p(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),Q(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,i=t.offsetDirection;if(this.manager.session.prevented)return void e.preventDefault();var n=this.actions,o=_(n,he)&&!me[he],a=_(n,ve)&&!me[ve],s=_(n,pe)&&!me[pe];if(o){var r=1===t.pointers.length,l=t.distance<2,u=t.deltaTime<250;if(r&&l&&u)return}return s&&a?void 0:o||a&&i&Wt||s&&i&Ft?this.preventSrc(e):void 0},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var ge=1,ye=2,_e=4,be=8,we=be,Te=16,ke=32;tt.prototype={defaults:{},set:function(t){return vt(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(u(t,"recognizeWith",this))return this;var e=this.simultaneous;return t=nt(t,this),e[t.id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return u(t,"dropRecognizeWith",this)?this:(t=nt(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(u(t,"requireFailure",this))return this;var e=this.requireFail;return t=nt(t,this),-1===w(e,t)&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(u(t,"dropRequireFailure",this))return this;t=nt(t,this);var e=w(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){function e(e){i.manager.emit(e,t)}var i=this,n=this.state;be>n&&e(i.options.event+et(n)),e(i.options.event),t.additionalEvent&&e(t.additionalEvent),n>=be&&e(i.options.event+et(n))},tryEmit:function(t){return this.canEmit()?this.emit(t):void(this.state=ke)},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(ke|ge)))return!1;t++}return!0},recognize:function(t){var e=vt({},t);return p(this.options.enable,[this,e])?(this.state&(we|Te|ke)&&(this.state=ge),this.state=this.process(e),void(this.state&(ye|_e|be|Te)&&this.tryEmit(e))):(this.reset(),void(this.state=ke))},process:function(){},getTouchAction:function(){},reset:function(){}},f(ot,tt,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,i=t.eventType,n=e&(ye|_e),o=this.attrTest(t);return n&&(i&Nt||!o)?e|Te:n||o?i&Vt?e|be:e&ye?e|_e:ye:ke}}),f(at,ot,{defaults:{event:"pan",threshold:10,pointers:1,direction:qt},getTouchAction:function(){var t=this.options.direction,e=[];return t&Wt&&e.push(ve),t&Ft&&e.push(pe),e},directionTest:function(t){var e=this.options,i=!0,n=t.distance,o=t.direction,a=t.deltaX,s=t.deltaY;return o&e.direction||(e.direction&Wt?(o=0===a?Lt:0>a?zt:Rt,i=a!=this.pX,n=Math.abs(t.deltaX)):(o=0===s?Lt:0>s?Ut:Ht,i=s!=this.pY,n=Math.abs(t.deltaY))),t.direction=o,i&&n>e.threshold&&o&e.direction},attrTest:function(t){return ot.prototype.attrTest.call(this,t)&&(this.state&ye||!(this.state&ye)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=it(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),f(st,ot,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[he]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&ye)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),f(rt,tt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[ce]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,n=t.distance<e.threshold,o=t.deltaTime>e.time;if(this._input=t,!n||!i||t.eventType&(Vt|Nt)&&!o)this.reset();else if(t.eventType&Dt)this.reset(),this._timer=l(function(){this.state=we,this.tryEmit()},e.time,this);else if(t.eventType&Vt)return we;return ke},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===we&&(t&&t.eventType&Vt?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=wt(),this.manager.emit(this.options.event,this._input)))}}),f(lt,ot,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[he]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&ye)}}),f(ut,ot,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Wt|Ft,pointers:1},getTouchAction:function(){return at.prototype.getTouchAction.call(this)},attrTest:function(t){var e,i=this.options.direction;return i&(Wt|Ft)?e=t.overallVelocity:i&Wt?e=t.overallVelocityX:i&Ft&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&i&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&bt(e)>this.options.velocity&&t.eventType&Vt},emit:function(t){var e=it(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),f(dt,tt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[fe]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,n=t.distance<e.threshold,o=t.deltaTime<e.time;if(this.reset(),t.eventType&Dt&&0===this.count)return this.failTimeout();if(n&&o&&i){if(t.eventType!=Vt)return this.failTimeout();var a=this.pTime?t.timeStamp-this.pTime<e.interval:!0,s=!this.pCenter||N(this.pCenter,t.center)<e.posThreshold;this.pTime=t.timeStamp,this.pCenter=t.center,s&&a?this.count+=1:this.count=1,this._input=t;var r=this.count%e.taps;if(0===r)return this.hasRequireFailures()?(this._timer=l(function(){this.state=we,this.tryEmit()},e.interval,this),ye):we}return ke},failTimeout:function(){return this._timer=l(function(){this.state=ke},this.options.interval,this),ke},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==we&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ct.VERSION="2.0.7",ct.defaults={domEvents:!1,touchAction:de,enable:!0,inputTarget:null,inputClass:null,preset:[[lt,{enable:!1}],[st,{enable:!1},["rotate"]],[ut,{direction:Wt}],[at,{direction:Wt},["swipe"]],[dt],[dt,{event:"doubletap",taps:2},["tap"]],[rt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var Ee=1,je=2;ft.prototype={set:function(t){return vt(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?je:Ee},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var i,n=this.recognizers,o=e.curRecognizer;(!o||o&&o.state&we)&&(o=e.curRecognizer=null);for(var a=0;a<n.length;)i=n[a],e.stopped===je||o&&i!=o&&!i.canRecognizeWith(o)?i.reset():i.recognize(t),!o&&i.state&(ye|_e|be)&&(o=e.curRecognizer=i),a++}},get:function(t){if(t instanceof tt)return t;for(var e=this.recognizers,i=0;i<e.length;i++)if(e[i].options.event==t)return e[i];return null},add:function(t){if(u(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(u(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,i=w(e,t);-1!==i&&(e.splice(i,1),this.touchAction.update())}return this},on:function(t,e){if(t!==r&&e!==r){var i=this.handlers;return d(b(t),function(t){i[t]=i[t]||[],i[t].push(e)}),this}},off:function(t,e){if(t!==r){var i=this.handlers;return d(b(t),function(t){e?i[t]&&i[t].splice(w(i[t],e),1):delete i[t]}),this}},emit:function(t,e){this.options.domEvents&&pt(t,e);var i=this.handlers[t]&&this.handlers[t].slice();if(i&&i.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var n=0;n<i.length;)i[n](e),n++}},destroy:function(){this.element&&ht(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},vt(ct,{INPUT_START:Dt,INPUT_MOVE:xt,INPUT_END:Vt,INPUT_CANCEL:Nt,STATE_POSSIBLE:ge,STATE_BEGAN:ye,STATE_CHANGED:_e,STATE_ENDED:be,STATE_RECOGNIZED:we,STATE_CANCELLED:Te,STATE_FAILED:ke,DIRECTION_NONE:Lt,DIRECTION_LEFT:zt,DIRECTION_RIGHT:Rt,DIRECTION_UP:Ut,DIRECTION_DOWN:Ht,DIRECTION_HORIZONTAL:Wt,DIRECTION_VERTICAL:Ft,DIRECTION_ALL:qt,Manager:ft,Input:M,TouchAction:K,TouchInput:q,MouseInput:U,PointerEventInput:H,TouchMouseInput:G,SingleTouchInput:W,Recognizer:tt,AttrRecognizer:ot,Tap:dt,Pan:at,Swipe:ut,Pinch:st,Rotate:lt,Press:rt,on:m,off:g,each:d,merge:kt,extend:Tt,assign:vt,inherit:f,bindFn:h,prefixed:E});var Pe="undefined"!=typeof o?o:"undefined"!=typeof self?self:{};

Pe.Hammer=ct,n=function(){return ct}.call(e,i,e,t),!(n!==r&&(t.exports=n))}(window,document,"Hammer")},function(t){!function(e){t.exports=e()}(function(){var t=function(t){var e=decodeURIComponent(t).match(/[#|?].*$/g),i={};if(e){e=e[0].replace(/^\?|^#|^\/|\/$|\[|\]/g,""),e=e.split("&");for(var n=e.length;n--;){var o=e[n].split("="),a=o[0],s=o[1];i[a]?("[object Array]"!=={}.toString.call(i[a])&&(i[a]=[i[a]]),i[a].push(s)):i[a]=s}}return i};return"undefined"!=typeof $&&($.paramalama=t),t})},function(t){var e;e=function(){return this}();try{e=e||Function("return this")()||(1,eval)("this")}catch(i){"object"==typeof window&&(e=window)}t.exports=e},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=i(0),r=n(s),l=i(22),u=n(l),d=i(1),c=n(d),f=null,h=c["default"]('<div class="bar"><div class="bar__inner"></div></div>'),p=h.find(".bar__inner"),v=function(){function t(e,i){o(this,t),this.color=i||"",this.position=e||"",this.tween=null,this.timeout=5e3}return a(t,[{key:"append",value:function(){r["default"].dom.body.append(h.addClass("bar--"+this.position+" bar--"+this.color))}},{key:"progress",value:function(t){this.tween&&this.tween.stop(),this.tween=new u["default"]({from:this.getFrom(),to:t,update:this.update.bind(this),complete:this.update.bind(this),ease:r["default"].config.defaultEasing,duration:r["default"].config.defaultDuration})}},{key:"load",value:function(){this.append(),this.tween=new u["default"]({from:0,to:window.innerWidth,update:this.update.bind(this),complete:this.update.bind(this),ease:r["default"].config.defaultEasing,duration:this.timeout})}},{key:"stop",value:function(t){this.tween.stop(),this.tween=new u["default"]({from:this.getFrom(),to:window.innerWidth,update:this.update.bind(this),complete:this.complete.bind(this,t),ease:r["default"].config.defaultEasing,duration:r["default"].config.defaultDuration})}},{key:"update",value:function(t){var e=/^top|^bottom/.test(this.position)?"width":"height";p[0].style[e]=r["default"].util.px(t)}},{key:"complete",value:function(t){h.addClass("is-done"),setTimeout(function(){h.detach().removeClass("bar--bottom bar--top bar--light is-done"),p.attr("style",""),t()},r["default"].util.getTransitionDuration(h[0]))}},{key:"getFrom",value:function(){return/^top|^bottom/.test(this.position)?p[0].clientWidth:p[0].clientHeight}}]),t}(),m={mount:function(t,e){f=new v(t,e),f.append()},progress:function(t){f.progress(t)},load:function(t,e){f=new v(t,e),f.load()},stop:function(){f&&f.stop(function(){f=null})}};e["default"]=m},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(42),u=n(l),d=i(11),c=n(d),f=i(0),h=n(f),p=i(7),v=n(p),m=function(t){function e(t,i){o(this,e);var n=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.data=i,n.$article=t,n.$articleCms=n.$article.find(".js-article-cms"),n.$animateIntro=n.$article.find(".js-animate-article"),n.$backLink=u["default"].getElement().find("a"),n.isIntroArtDone=!1,n.categoryFilter=c["default"].getState("categoryFilter"),n.stateKey="scrollRestoration"+n.data.collection.id,n.scrollRestoration=c["default"].getState(n.stateKey),n.scrollRestoration&&n.scrollRestoration.collectionId===n.data.collection.id&&n.scrollRestoration.categoryFilter===n.categoryFilter&&c["default"].setState(n.stateKey,n.scrollRestoration),n.categoryFilter&&n.categoryFilter!==h["default"].config.defaultCategory&&n.setBackLink(n.data.collection.fullUrl+"?category="+n.categoryFilter),n.bindIntroHandlers(),n}return s(e,t),r(e,[{key:"setBackLink",value:function(t){this.$backLink[0].href=t}},{key:"applyIntroArt",value:function(){var t=this;setTimeout(function(){t.onIntroArt()},10)}},{key:"bindIntroHandlers",value:function(){this._onIntroArt=this.onIntroArt.bind(this),h["default"].emitter.on("app--intro-art",this._onIntroArt)}},{key:"onIntroArt",value:function(){var t=this;this.isIntroArtDone=!1,this.$animateIntro.addClass("is-active"),setTimeout(function(){t.isIntroArtDone=!0,t.$animateIntro.addClass("is-static")},600)}},{key:"destroy",value:function(){h["default"].emitter.off("app--intro-art",this._onIntroArt)}}]),e}(v["default"]);e["default"]=m},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=i(8),r=n(s),l=i(5),u=n(l),d=i(6),c=n(d),f=function(){function t(e,i,n){o(this,t),this.elements=e,this.callback=i,this.executor=n||r["default"].isElementLoadable,this.elements&&this.callback||u["default"]("warn","Waypoints needs `elements` and a `callback` method!"),this._onScroller=this.onScroller.bind(this),this._onScroller(),c["default"].on("app--scroll",this._onScroller)}return a(t,[{key:"onScroller",value:function(){var t=this.elements.not(".is-waypoint"),e=t.length,i=null;for(t.length||this.destroy(),e;e--;)i=t.eq(e),this.executor(i[0])&&(i.addClass("is-waypoint"),this.callback(i))}},{key:"destroy",value:function(){c["default"].off("app--scroll",this._onScroller)}}]),t}();e["default"]=f},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(24),a=n(o);e["default"]=new a["default"]({enableStorage:!1})},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(9),a=n(o),s=i(5),r=n(s),l={init:function(){this._isTouch="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,this._isMobile=/Android|BlackBerry|iPhone|iPad|iPod|IEMobile|Opera Mini/gi.test(window.navigator.userAgent),this._isSurface="onmouseover"in document&&/Windows NT/.test(window.navigator.userAgent)&&/Touch/.test(window.navigator.userAgent),this._isPlayableInline="playsInline"in document.createElement("video"),this._isSurface&&a["default"].html.addClass("is-surface"),a["default"].html.addClass(this._isTouch?"is-touchable":"is-hoverable"),r["default"]("detect initialized")},isMobile:function(){return this._isMobile},isTouch:function(){return this._isTouch},isDevice:function(){return this._isTouch&&this._isMobile},isPlayableInline:function(){return this._isPlayableInline}};e["default"]=l},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(9),a=n(o),s=i(8),r=n(s),l=i(5),u=n(l),d=i(12),c=n(d),f=i(6),h=n(f),p=i(69),v=n(p),m={init:function(){u["default"]("images initialized")},isActive:r["default"].noop,onload:function(){this.handleImages()},unload:function(){},handlePreload:function(t){"function"==typeof t&&t(),h["default"].fire("app--preload-done")},handleImages:function(t,e){if(t=t||a["default"].page.find(c["default"].lazyImageSelector),t.length){var i=new v["default"](t);i.on("preload",this.handlePreload.bind(this,e)),i.on("lazyload",function(){h["default"].fire("app--lazyload-done")})}else this.handlePreload(e)}};e["default"]=m},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(132),a=n(o),s=new a["default"];e["default"]=s},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(133),a=n(o),s=new a["default"];e["default"]=s},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(30),u=n(l),d=i(0),c=n(d),f=i(17),h=n(f),p=i(7),v=n(p),m=i(1),g=n(m),y=function(t){function e(t){o(this,e);var i=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return i.$node=t.addClass("is-loaded"),i.$index=i.$node.find(".js-gallery-index"),i.$items=i.$node.find(".js-gallery-item"),i.$images=i.$node.find(".js-gallery-image"),i.$arrows=i.$node.find(".js-gallery-arrow"),i.$active=i.$items.eq(0),i.hammers={},i.data={index:0,length:i.$items.length,timeout:null,duration:c["default"].util.getTransitionDuration(i.$items[0])},i.setIndex(),i.$images.length?c["default"].util.loadImages(i.$images,c["default"].util.noop).on("load",i.onImageLoad.bind(i)).on("done",i.initialize.bind(i)):setTimeout(i.initialize.bind(i),0),i}return s(e,t),r(e,[{key:"initialize",value:function(){this.fire("load"),c["default"].detect.isDevice()&&this.bindSwipe(),this.bindEvents(),this.$active.addClass("is-active")}},{key:"bindEvents",value:function(){this._onTap=this.onTap.bind(this),this._onTapArrow=this.onTapArrow.bind(this),this._onBlurArrow=this.onBlurArrow.bind(this),this.hammers.tap=new h["default"](this.$node[0],c["default"].util.getDefaultHammerOptions()),this.hammers.tap.on("tap",".js-gallery-item",this._onTap),this.hammers.tap.on("tap",".js-gallery-arrow",this._onTapArrow),this.$arrows.on("blur",this._onBlurArrow)}},{key:"bindSwipe",value:function(){this._onSwiped=this.onSwiped.bind(this),this._onGesture=this.onGesture.bind(this),this.hammers.swipe=new h["default"](this.$node[0],c["default"].util.getDefaultHammerOptions()),this.hammers.swipe.on("panstart",".js-gallery-item",this._onGesture),this.hammers.swipe.on("panend",".js-gallery-item",this._onSwiped)}},{key:"setIndex",value:function(){this.$index[0].innerText=this.data.index+1+" / "+this.data.length}},{key:"clear",value:function(){try{clearTimeout(this.data.timeout),this.$items.removeClass("is-entering is-exiting is-active")}catch(t){c["default"].log("warn",t)}}},{key:"transition",value:function(t,e){var i=this;this.$active=t,this.setIndex(),this.fire("before",e,t),e.removeClass("is-active").addClass("is-exiting"),t.addClass("is-entering"),this.data.timeout=setTimeout(function(){e.removeClass("is-exiting"),t.removeClass("is-entering").addClass("is-active"),i.fire("after",t,e)},this.data.duration)}},{key:"advance",value:function(){this.clear(),this.data.index===this.data.length-1?this.data.index=0:this.data.index++,this.transition(this.$items.eq(this.data.index),this.$active)}},{key:"rewind",value:function(){this.clear(),0===this.data.index?this.data.index=this.data.length-1:this.data.index--,this.transition(this.$items.eq(this.data.index),this.$active)}},{key:"onImageLoad",value:function(t){"IMG"===t.tagName&&(t.className+=t.naturalHeight>t.naturalWidth?" image--tall":" image--wide")}},{key:"onGesture",value:function(){this.fire("swipe")}},{key:"onSwiped",value:function(t){t.preventDefault(),t.direction===u["default"].DIRECTION_LEFT?this.advance():t.direction===u["default"].DIRECTION_RIGHT&&this.rewind()}},{key:"onTap",value:function(t){this.fire("tap"),"A"!==t.target.tagName&&this.advance()}},{key:"onTapArrow",value:function(t){var e=g["default"](t.target).addClass("is-tapped");e.is(".js-gallery-prev")?this.rewind():this.advance()}},{key:"onBlurArrow",value:function(t){g["default"](t.target).removeClass("is-tapped")}},{key:"destroy",value:function(){this._onTap&&this.hammers.tap.off("tap",this._onTap),this._onTapArrow&&this.hammers.tap.off("tap",this._onTapArrow),this.$arrows.length&&this.$arrows.off("blur"),this._onSwiped&&(this.hammers.swipe.off("panend",this._onSwiped),this.hammers.swipe.off("panleft",this._onGesture),this.hammers.swipe.off("panright",this._onGesture))}}]),e}(v["default"]);e["default"]=y},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),a=n(o),s=null,r={init:function(){a["default"].log("label initialized")},isActive:function(){return this.getElements()>0},onload:function(){s.detach().addClass("is-visible"),a["default"].dom.header.label[0].innerHTML="",a["default"].dom.header.label.append(s[0])},unload:function(){this.teardown()},teardown:function(){s.remove(),s=null},getElements:function(){return s=a["default"].dom.body.find(".js-context-label"),s.length},getElement:function(){return s}};e["default"]=r},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=i(0),r=n(s),l=i(15),u=n(l),d=function(){function t(e){o(this,t),this.$node=e,this.$audioIcon=this.$node.find(".js-audio-icon"),this.$audioWave=this.$node.find(".js-audio-wave"),this.data=this.$node.data(),this.bindEvents()}return a(t,[{key:"togglePP",value:function(){u["default"].isPlaying(this.data.id)?this.stop():this.start()}},{key:"stop",value:function(){u["default"].getMedia(this.data.id)&&u["default"].stopMedia(this.data.id)}},{key:"start",value:function(){u["default"].getMedia(this.data.id)&&(window.app.audiobar.initAudio(this),u["default"].playMedia(this.data.id))}},{key:"createMediaNode",value:function(){var t=this;u["default"].addAudio({id:this.data.id,src:this.data.src.split(","),channel:r["default"].config.defaultAudioChannel}),u["default"].addMediaEvent(this.data.id,"play",function(){t.$node.addClass("is-played"),t.$audioIcon.addClass("is-playing"),t.$audioWave.removeClass("is-hidden"),window.app.audiobar&&window.app.audiobar.togglePPOn()}).addMediaEvent(this.data.id,"pause",function(){t.$audioIcon.removeClass("is-playing"),t.$audioWave.addClass("is-hidden"),window.app.audiobar&&window.app.audiobar.togglePPOff()}).addMediaEvent(this.data.id,"ended",function(){r["default"].emitter.fire("app--audio-ended",t.data.id),u["default"].stopMedia(t.data.id).setMediaProp(t.data.id,"currentTime",0)}),this.start()}},{key:"bindEvents",value:function(){var t=this;this.$node.on("click",function(){u["default"].getMedia(t.data.id)?t.togglePP():t.createMediaNode()})}},{key:"destroy",value:function(){this.$node.off("click"),u["default"].getMedia(this.data.id)&&u["default"].destroyMedia(this.data.id)}}]),t}();e["default"]=d},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=function m(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(void 0===n){var o=Object.getPrototypeOf(t);return null===o?void 0:m(o,e,i)}if("value"in n)return n.value;var a=n.get;return void 0===a?void 0:a.call(i)},u=i(0),d=n(u),c=i(14),f=n(c),h=i(13),p=n(h),v=function(t){function e(t,i){o(this,e);var n=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.$node=t,n.data=i,d["default"].detect.isDevice()&&!d["default"].detect.isPlayableInline()?n.initMobile():(n.data.sourceUrl=n.getSourceUrl(n.data.sourceUrl),n.initVideo()),n}return s(e,t),r(e,[{key:"initMobile",value:function(){this.$node.addClass("is-hidden")}},{key:"initVideo",value:function(){var t=this;this.$videoNode=this.$node.find(".js-video-el"),this.waitForLoadedMetaData(function(){t.autoplayHandler=new p["default"](t.$node,t.data.id),t.videoRatio=t.$videoNode[0].videoWidth/t.$videoNode[0].videoHeight,t.bindEventHandlers(),t.resizeVideoNode()}),this.createMediaNode(this.data.id,this.data.sourceUrl,this.$videoNode[0])}},{key:"bindEventHandlers",value:function(){this._onResizeVideoNode=this.resizeVideoNode.bind(this),d["default"].emitter.on("app--resize",this._onResizeVideoNode)}},{key:"resizeVideoNode",value:function(){var t=this.$node[0].getBoundingClientRect(),e=t.width/t.height,i=this.videoRatio/e,n=null;n=e<this.videoRatio?t.width*i:t.width,this.$videoNode[0].style.width=d["default"].util.px(n),this.$videoNode[0].width=n,this.$videoNode[0].style.marginLeft=d["default"].util.px(-(n/2)+t.width/2)}},{key:"destroy",value:function(){l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this),this._onResizeVideoNode&&d["default"].emitter.off("app--resize",this._onResizeVideoNode),this.autoplayHandler&&this.autoplayHandler.destroy()}}]),e}(f["default"]);e["default"]=v},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=function P(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(void 0===n){var o=Object.getPrototypeOf(t);return null===o?void 0:P(o,e,i)}if("value"in n)return n.value;var a=n.get;return void 0===a?void 0:a.call(i)},u=i(1),d=n(u),c=i(0),f=n(c),h=i(26),p=n(h),v=i(15),m=n(v),g=i(14),y=n(g),_=i(27),b=n(_),w=i(13),T=n(w),k=i(4),E=n(k),j=function(t){function e(t,i){o(this,e);var n=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i));return f["default"].detect.isDevice()?n.initMobile():(n.data.sourceUrl=n.getSourceUrl(n.data.sourceUrl),n.data.customContent||n.data.videoApiProvider!==f["default"].config.supportedVideoApiProvider?(n.data.customContent.posterVideoSourceUrl=n.getSourceUrl(n.data.customContent.posterVideoSourceUrl),n.$videoItem=n.$node.children().eq(0)):n.$videoItem=d["default"](E["default"]("VideoCustom",n.data)),n.initVideoSource(n.data.sourceUrl)),n}return s(e,t),r(e,[{key:"initMobile",value:function(){var t=this;this.data.oembed.html&&this.data.videoApiProvider!==f["default"].config.supportedVideoApiProvider?this._embed=new b["default"](this.$node,this.data):(this.$videoItem=d["default"](E["default"]("VideoMobile",this.data)),this.$videoNode=this.$videoItem.find(".js-video-el"),this.$videoNode[0].setAttribute("controls",!0),this.$videoNode[0].setAttribute("loop",!1),this.$videoAspect=this.$videoItem.find(".js-video-aspect"),this.$videoPoster=this.$videoItem.find(".js-video-poster"),this.$videoPoster.length&&this.loadPosterImage(),this.$node[0].innerHTML="",this.$node.append(this.$videoItem[0]),this.createMediaNode(this.data.id,this.data.sourceUrl,this.$videoNode[0]),this.bindClickEvents(),m["default"].addMediaEvent(this.data.id,"play",function(){t.$videoItem.addClass("is-played")}))}},{key:"initVideoSource",value:function(t){var e=this;this.$videoNode=this.$videoItem.find(".js-video-el"),this.$videoPoster=this.$videoItem.find(".js-video-poster"),this.$videoPosterLoop=this.$videoItem.find(".js-video-poster-loop"),this.$videoAspect=this.$videoItem.find(".js-video-aspect"),this.$videoScrub=this.$videoItem.find(".js-media-scrubber"),this.$videoProgress=this.$videoItem.find(".js-media-progress"),this.$videoWrap=this.$videoItem.find(".js-video-wrap"),this.$playIcon=this.$videoItem.find(".js-play-icon"),this.$node.append(this.$videoItem),this.$videoPosterLoop.length?this.loadPosterVideoLoop():this.$videoPoster.length&&this.loadPosterImage(),this.waitForLoadedMetaData(function(){e.applyAspect()}),this.createWaypoints(),this.createMediaNode(this.data.id,t,this.$videoNode[0]),this.createScrubber(),this.bindClickEvents(),this.bindMediaNodeEvents(),this.bindEventHandlers()}},{key:"createWaypoints",value:function(){var t=this;this._iconWaypoint=new f["default"].Waypoints(this.$playIcon,function(){t.$playIcon.addClass("is-active")},f["default"].util.isElementVisibleVert)}},{key:"loadPosterImage",value:function(){var t=this;f["default"].util.loadImages(this.$videoPoster,f["default"].util.noop).on("done",function(){t.$videoPoster.addClass("is-active")})}},{key:"loadPosterVideoLoop",value:function(){var t=this;this.videoPosterId=this.data.id+"-poster-loop",this.$videoPosterLoop.addClass("is-active"),this.$videoPosterLoop.on("loadedmetadata",function(){t.autoplayHandler=new T["default"](t.$node,t.videoPosterId)}),this.createMediaNode(this.videoPosterId,this.data.customContent.posterVideoSourceUrl,this.$videoPosterLoop[0])}},{key:"bindClickEvents",value:function(){var t=this;this.$videoItem.on("click",".js-video-el, .js-video-info",function(){p["default"].stopChannels(),m["default"].isPlaying(t.data.id)?m["default"].stopMedia(t.data.id):m["default"].playMedia(t.data.id)})}},{key:"bindMediaNodeEvents",value:function(){var t=this;m["default"].addMediaEvent(this.data.id,"play",function(){t.videoPosterId&&m["default"].stopMedia(t.videoPosterId),t.$videoItem.addClass("is-played")}).addMediaEvent(this.data.id,"pause",function(){}).addMediaEvent(this.data.id,"ended",function(){m["default"].stopMedia(t.data.id).setMediaProp(t.data.id,"currentTime",0),t._scrubber.resetUI(),t.videoPosterId&&m["default"].playMedia(t.videoPosterId),t.$videoItem.removeClass("is-played is-hovered")})}},{key:"destroy",value:function(){l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this),this._iconWaypoint&&this._iconWaypoint.destroy(),this.autoplayHandler&&this.autoplayHandler.destroy(),this.videoPosterId&&m["default"].destroyMedia(this.videoPosterId),this.$videoScrub&&this.$videoScrub.off("mouseenter mousemove mouseleave"),this.$videoItem&&this.$videoItem.off("click mouseenter mouseleave")}}]),e}(y["default"]);e["default"]=j},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),a=n(o),s={duration:a["default"].util.getTransitionDuration(a["default"].dom.intro[0]),init:function(){a["default"].dom.intro.removeClass("is-done").addClass("is-active"),setTimeout(function(){setTimeout(function(){a["default"].emitter.fire("app--intro-art")},0)},this.duration)},teardown:function(){a["default"].dom.intro.removeClass("is-active").addClass("first-instance-complete is-done"),setTimeout(function(){setTimeout(function(){a["default"].emitter.fire("app--intro-art")},0)},this.duration)}};e["default"]=s},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=i(62),r=n(s),l=i(11),u=n(l),d=i(21),c=n(d),f=i(0),h=n(f),p=i(46),v=n(p),m=i(19),g=n(m),y=i(82),_=n(y);i(97);var b=function(){function t(e){o(this,t),this.nav=c["default"],this.btns=r["default"],this.core=h["default"],this.grid=g["default"],this.intro=v["default"],this.router=u["default"],this.options=e||{},this.initEvents(),this.initModules()}return a(t,[{key:"initModules",value:function(){this.core.detect.init(this),this.core.resizes.init(this),this.core.scrolls.init(this),this.core.keys.init(),this.router.init(this,this.options),this.nav.init(this),this.btns.init(),this.audiobar=new _["default"],this.analytics=new this.core.Analytics}},{key:"initEvents",value:function(){this._onPreloadDone=this.onPreloadDone.bind(this),this.grid.isActive()?this.core.emitter.on("app--init",this._onPreloadDone):this.core.emitter.on("app--preload-done",this._onPreloadDone)}},{key:"onPreloadDone",value:function(){this.core.emitter.off("app--init",this._onPreloadDone),this.core.emitter.off("app--preload-done",this._onPreloadDone),this.core.dom.html.removeClass("is-clipped"),this.core.dom.body.removeClass("is-clipped"),this.intro.teardown()}}]),t}();e["default"]=b},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(1),u=n(l),d=i(0),c=n(d),f=i(33),h=n(f),p=i(7),v=n(p),m=function(t){function e(t){o(this,e);var i=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return i.$form=t.$form,i.apiMethod=t.apiMethod,i.barStyle=t.barStyle||"",i.$fields=i.$form.find(".js-form-field"),i.isPosting=!1,i.files={},i.formData={},i._onSubmit=i.onSubmit.bind(i),i._onFiles=i.onFiles.bind(i),i.$form.on("change","[type=file]",i._onFiles),i.$form.on("submit",i._onSubmit),i}return s(e,t),r(e,[{key:"onFiles",value:function(t){var e=this,i=t.target,n=new FileReader,o=u["default"](".js-fileshim--"+i.name);n.onload=function(t){o.addClass("is-filled"),o[0].innerHTML=i.files[0].name,e.files[i.name]={file:i.files[0].name,data:t.target.result}},n.readAsDataURL(i.files[0])}},{key:"onSubmit",value:function(t){var e=this;t.preventDefault(),this.isPosting||(this.$form.find(".is-invalid").removeClass("is-invalid"),this.isPosting=!0,this.setFormData(),this.fire("submit",this.formData),c["default"].api[this.apiMethod](this.formData).then(function(t){e.isPosting=!1,h["default"].stop(),t.success?(e.showMessage(),e.fire("success",t)):t.errors&&(e.fire("errors",t),t.errors.forEach(function(t){e.setError(t.field)}))})["catch"](function(t){e.isPosting=!1,h["default"].stop(),e.fire("failure",t)}),h["default"].load("bottom",this.barStyle))}},{key:"setFormData",value:function(){var t=this,e=null,i=null;this.$fields.forEach(function(e,n){i=t.$fields.eq(n).data(),t.formData[e.name]=e.value,/^question_/.test(String(e.name))&&(t.formData[i.humanName]=e.value)});for(e in this.files)this.files.hasOwnProperty(e)&&(this.formData[e]=this.files[e])}},{key:"setData",value:function(t,e){this.formData[t]=e}},{key:"removeData",value:function(t){delete this.formData[t]}},{key:"setError",value:function(t){var e=this.$fields.filter("[name="+t+"], [data-human-name="+t+"]");e.addClass("is-invalid")}},{key:"clearForm",value:function(){this.$form.find(".is-invalid").removeClass("is-invalid"),this.$fields.forEach(function(t){t.value=""})}},{key:"showMessage",value:function(){var t=this;this.$form.addClass("is-success"),setTimeout(function(){t.clearForm()},c["default"].config.defaultDuration)}},{key:"destroy",value:function(){this.$form.off("change",this._onFiles),this.$form.off("submit",this._onSubmit)}}]),e}(v["default"]);e["default"]=m},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=i(0),r=n(s),l=i(19),u=n(l),d=i(81),c=n(d),f=i(11),h=n(f),p=i(51),v=n(p),m=function(){function t(e,i){o(this,t),this.$node=e,this.data=i,this.stateKey="scrollRestoration"+this.data.collection.id,this.scrollRestoration=h["default"].getState(this.stateKey),this.isLoading=!1,this.initialize()}return a(t,[{key:"initialize",value:function(){var t=this,e=this.getCacheKeys();this.data.items=r["default"].cache.get(e.items)||u["default"].getMappedItems(this.data.items),this.data.pagination=r["default"].cache.get(e.pages)||this.data.pagination,this.cacheGridItems(this.data.items,this.data.pagination),u["default"].loadGridCluster(this.data.items).then(function(e){t.$node.append(e),t.$node.addClass("is-loaded"),t.scrollRestoration&&t.scrollRestoration.collectionId===t.data.collection.id&&t.scrollRestoration.categoryFilter===t.data.categoryFilter&&(r["default"].dom.body[0].scrollTop=t.scrollRestoration.scrollPosition),t._onScrollEnd=t.onScrollEnd.bind(t),r["default"].emitter.fire("app--init"),r["default"].emitter.fire("app--update-animate"),r["default"].emitter.on("app--scrollmax",t._onScrollEnd)})}},{key:"showItems",value:function(){this.$node.children().removeClass("is-hidden"),r["default"].emitter.fire("app--update-animate")}},{key:"getCacheKeys",value:function(){var t="grid--"+this.data.collection.urlId+"--All-items",e="grid--"+this.data.collection.urlId+"--All-pagination";

return this.data.categoryFilter&&(t="grid--"+this.data.collection.urlId+"--"+this.data.categoryFilter+"-items",e="grid--"+this.data.collection.urlId+"--"+this.data.categoryFilter+"-pagination"),{items:t,pages:e}}},{key:"cacheGridItems",value:function(t,e){var i=this.getCacheKeys();r["default"].cache.set(i.items,t),r["default"].cache.set(i.pages,e)}},{key:"onScrollEnd",value:function(){var t=this;!this.isLoading&&this.data.pagination&&this.data.pagination.nextPageUrl&&(this.$node.addClass("is-no-events"),this.isLoading=!0,r["default"].util.disableMouseWheel(!0),r["default"].util.disableTouchMove(!0),c["default"].load(),this.getLoadedGridCluster("collection",this.data.pagination.nextPageUrl,function(e){t.$node.removeClass("is-no-events"),t.handleLoadDone(e)}))}},{key:"onLoadComplete",value:function(){this.isLoading=!1,r["default"].util.disableMouseWheel(!1),r["default"].util.disableTouchMove(!1),r["default"].emitter.fire("app--update-animate")}},{key:"handleLoadDone",value:function(t){var e=this;c["default"].stop(),this.$node.append(t),setTimeout(function(){v["default"]({y:r["default"].scroller.getScrollY()+window.innerHeight/3,ease:r["default"].config.defaultEasing,duration:r["default"].config.defaultDuration,complete:e.onLoadComplete.bind(e)})},10)}},{key:"destroy",value:function(){h["default"].setState(this.stateKey,{scrollPosition:r["default"].scroller.getScrollY(),collectionId:this.data.collection.id,categoryFilter:this.data.categoryFilter}),this._onScrollEnd&&r["default"].emitter.off("app--scrollmax",this._onScrollEnd)}},{key:"getGridNodes",value:function(t,e){var i=this;return new Promise(function(n){var o=function(t){var e=u["default"].getMappedItems(t.items);t.pagination&&(this.data.pagination=t.pagination),this.data.items=this.data.items.concat(e),this.cacheGridItems(this.data.items,this.data.pagination),n(e)},a=function(t,e,i){r["default"].log("warn",i)};r["default"].api[t](e).then(o.bind(i))["catch"](a.bind(i))})}},{key:"getLoadedGridCluster",value:function(t,e,i){this.getGridNodes(t,e).then(function(t){u["default"].loadGridCluster(t).then(function(t){i(t)})})}}]),t}();e["default"]=m},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=function p(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(void 0===n){var o=Object.getPrototypeOf(t);return null===o?void 0:p(o,e,i)}if("value"in n)return n.value;var a=n.get;return void 0===a?void 0:a.call(i)},u=i(0),d=n(u),c=i(34),f=n(c),h=function(t){function e(t,i){o(this,e);var n=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i));return n.$articleCover=n.$article.find(".js-article-cover"),n.$articleLeadIn=n.$article.find(".js-article-leadin"),n.bindCoverHandlers(),n}return s(e,t),r(e,[{key:"bindCoverHandlers",value:function(){this._onScrollLeadIn=this.onScrollLeadIn.bind(this),d["default"].scroller.on("scroll",this._onScrollLeadIn)}},{key:"onScrollLeadIn",value:function(){if(!this.isNewArticle){var t=null,e=null,i=d["default"].scroller.getScrollY(),n=this.$articleLeadIn[0].getBoundingClientRect(),o=this.$articleCover[0].getBoundingClientRect(),a=(o.height-n.height)/2;0>=i?(this.isIntroArtDone&&(e=1,this.$articleLeadIn[0].style.opacity=e),d["default"].util.translate3d(this.$articleCover[0],0,0,0)):(this.isIntroArtDone&&(e=1-i/a,e=0>e?0:e>1?1:e,this.$articleLeadIn[0].style.opacity=e),t=i/3,d["default"].util.translate3d(this.$articleCover[0],0,d["default"].util.px(t),0))}}},{key:"destroy",value:function(){l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this),this._onScrollLeadIn&&d["default"].scroller.off("scroll",this._onScrollLeadIn)}}]),e}(f["default"]);e["default"]=h},function(t,e,i){!function(e){t.exports=e()}(function(){var t=i(22),e=i(16),n=function(i){var n={x:window.scrollX||document.documentElement.scrollLeft,y:window.scrollY||document.documentElement.scrollTop};return i=i||{},i.ease=i.ease||e.swing,i.duration=i.duration||600,i.from=void 0!==i.y?n.y:n.x,i.to=void 0!==i.y?i.y:i.x,i.update=function(t){void 0!==i.y?window.scrollTo(n.x,t):void 0!==i.x&&window.scrollTo(t,n.y)},new t(i)};return n})},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=i(1),r=n(s),l=i(0),u=n(l),d=function(){function t(e){o(this,t),this.$node=r["default"]("<span />").addClass("tip"),this.text=e,this.timeout=null,this.isAppended=!1,this.$node[0].innerHTML=e}return a(t,[{key:"setPosition",value:function(t,e){u["default"].util.translate3d(this.$node[0],u["default"].util.px(t),u["default"].util.px(e),0)}},{key:"getSize",value:function(){return this.$node[0].getBoundingClientRect()}},{key:"append",value:function(){var t=this;if(!this.isAppended){try{clearTimeout(this.timeout)}catch(e){u["default"].log("warn",e)}this.isAppended=!0,u["default"].dom.body.append(this.$node),setTimeout(function(){t.$node.addClass("is-active")},0)}}},{key:"remove",value:function(){var t=this;this.isAppended&&(this.isAppended=!1,this.$node.removeClass("is-active"),this.timeout=setTimeout(function(){t.$node.remove()},u["default"].util.getTransitionDuration(this.$node[0])))}}]),t}();e["default"]=d},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),a=n(o),s=null,r=!1,l={init:function(){a["default"].log("animate initialized"),a["default"].emitter.on("app--intro-art",this.onIntroArt.bind(this)),a["default"].emitter.on("app--update-animate",this.onUpdateAnimate.bind(this)),a["default"].emitter.on("app--pushed-route",this.onUpdateAnimate.bind(this))},isActive:function(){return this.getElements()>0},onload:function(){r=!0,a["default"].emitter.on("app--scroll",u),a["default"].emitter.on("app--resize",u),u()},unload:function(){this.teardown()},teardown:function(){s=null,r=!1,a["default"].emitter.off("app--scroll",u),a["default"].emitter.off("app--resize",u)},getElements:function(){return s=a["default"].dom.page.find(".js-animate"),s.length},onUpdateAnimate:function(){this.getElements(),r||this.onload(),u()},onIntroArt:function(){var t=s.filter(".js-animate--intro-art");t.length&&t.addClass("is-active")}},u=function(){var t=s.not(".js-animate--intro-art"),e=null,i=t.length;for(i;i--;)e=t.eq(i),a["default"].util.isElementVisibleVert(e[0])?e.addClass("is-active"):e.removeClass("is-active")};e["default"]=l},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),a=n(o),s=null,r=null,l={init:function(){a["default"].log("annotated initialized")},isActive:function(){return this.getElements()>0},onload:function(){this.setWaypoints()},unload:function(){this.teardown()},teardown:function(){s=null,r.destroy(),r=null},getElements:function(){return s=a["default"].dom.page.find(".js-article .sqs-layout[data-type='item'] .sqs-row .sqs-col-6:first-child"),s.length},setWaypoints:function(){r=new a["default"].Waypoints(s,u,a["default"].util.isElementVisibleVert)}},u=function(t){t.parent().addClass("-wrap is-annotated")};e["default"]=l},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),a=n(o),s=null,r=null,l={dependencies:{sources:[{file:"prism.js",type:"script"},{file:"prism.css",type:"style"}],filter:function(){return s.find("pre").length>0}},init:function(){a["default"].emitter.on("app--pushed-route",this.onActivateWaypoints.bind(this)),a["default"].log("code initialized")},isActive:function(){return this.getElements()>0},onload:function(){this.dependencies.filter()&&!this.dependencies.loaded?a["default"].util.loadDependencies(this.dependencies,this.setWaypoints):this.setWaypoints()},unload:function(){this.teardown()},teardown:function(){s=null,r.destroy(),r=null},getElements:function(){return s=a["default"].dom.page.find(".sqs-layout[data-type='item'] .sqs-block-code"),s.length},setWaypoints:function(){r=new a["default"].Waypoints(s,u,a["default"].util.isElementVisibleVert)},onActivateWaypoints:function(){this.getElements(),this.setWaypoints()}},u=function(t){var e=t.find("pre"),i=t.find("iframe");e.length?c(t,e):i.length&&d(t,i)},d=function(t,e){t.addClass("iframe-code-block").find(".sqs-block-content").addClass("iframe-wrap"),e.addClass("iframe-frame")},c=function(t,e){t.addClass("source-code-block").find(".sqs-block-content").addClass("source-code-wrap"),e[0].innerHTML=e[0].innerHTML.replace(/</g,"&lt;").replace(/>/g,"&gt;"),e.addClass("source-code"),window.Prism.highlightElement(e[0],!1,function(){e.addClass("is-active")})};e["default"]=l},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),a=n(o),s=i(29),r=n(s),l=null,u=null,d={init:function(){a["default"].emitter.on("app--pushed-route",this.onActivateWaypoints.bind(this)),a["default"].log("embed initialized")},isActive:function(){return this.getElements()>0},onload:function(){this.setWaypoints()},unload:function(){this.teardown()},teardown:function(){l=null,u.destroy(),u=null},getElements:function(){return l=a["default"].dom.page.find(".sqs-layout[data-type='item'] .sqs-block-embed"),l.length},setWaypoints:function(){u=new a["default"].Waypoints(l,c,a["default"].util.isElementVisibleVert)},onActivateWaypoints:function(){this.getElements(),this.setWaypoints()}},c=function(t){var e=t.find(".twitter-tweet");e.length&&!window.twttr?r["default"]("//platform.twitter.com/widgets.js"):window.twttr.widgets.load()};e["default"]=d},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),a=n(o),s=i(18),r=n(s),l=i(23),u=n(l),d=null,c=null,f={init:function(){a["default"].emitter.on("app--pushed-route",this.onActivateWaypoints.bind(this)),a["default"].log("gallery initialized")},isActive:function(){return this.getElements()>0},onload:function(){this.setWaypoints()},unload:function(){this.teardown()},teardown:function(){d=null,c.destroy(),c=null},getElements:function(){return d=a["default"].dom.page.find(".sqs-layout[data-type='item'] .sqs-block-gallery"),d.length},setWaypoints:function(){c=new a["default"].Waypoints(d,h,a["default"].util.isElementVisibleVert)},onActivateWaypoints:function(){this.getElements(),this.setWaypoints()}},h=function(t){var e=t.data(a["default"].config.sqsSpecialProps.blockDataKey);t.addClass("is-gallery-"+e.design),u["default"](t),r["default"](t)};e["default"]=f},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),a=n(o),s=i(18),r=n(s),l=null,u=null,d=null,c=null,f={init:function(){a["default"].emitter.on("app--pushed-route",this.onActivateWaypoints.bind(this)),a["default"].log("html initialized")},isActive:function(){return this.getElements()>0},onload:function(){this.setWaypoints()},unload:function(){this.teardown()},teardown:function(){l=null,u=null,d.destroy(),d=null,c.destroy(),c=null},getElements:function(){return l=a["default"].dom.page.find(".sqs-layout[data-type='item'] .sqs-block-html"),u=a["default"].dom.page.find(".sqs-layout[data-type='block-field'] .sqs-block-html"),l.length},setWaypoints:function(){d=new a["default"].Waypoints(l,h,a["default"].util.isElementVisibleVert),c=new a["default"].Waypoints(u,p,a["default"].util.isElementVisibleVert)},onActivateWaypoints:function(){this.getElements(),this.setWaypoints()}},h=function(t){r["default"](t)},p=function(t){var e=t.find("p"),i=null,n=e.length;for(n;n--;)i=e[n].innerHTML.replace(/\s|&nbsp;|<br>|<br\/>|<br\s\/>/g,""),i||e.eq(n).remove()};e["default"]=f},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),a=n(o),s=i(18),r=n(s),l=i(23),u=n(l),d=null,c=null,f={init:function(){a["default"].emitter.on("app--pushed-route",this.onActivateWaypoints.bind(this)),a["default"].log("image initialized")},isActive:function(){return this.getElements()>0},onload:function(){this.setWaypoints()},unload:function(){this.teardown()},teardown:function(){d=null,c.destroy(),c=null},getElements:function(){return d=a["default"].dom.page.find(".sqs-layout[data-type='item'] .sqs-block-image"),d.length},setWaypoints:function(){c=new a["default"].Waypoints(d,h,a["default"].util.isElementVisibleVert)},onActivateWaypoints:function(){this.getElements(),this.setWaypoints()}},h=function(t){u["default"](t),r["default"](t)};e["default"]=f},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),a=n(o),s=i(18),r=n(s),l=i(23),u=n(l),d=i(55),c=n(d),f=i(58),h=n(f),p=i(59),v=n(p),m=i(56),g=n(m),y=i(57),_=n(y),b=i(54),w=n(b),T={code:c["default"],html:h["default"],image:v["default"],embed:g["default"],gallery:_["default"],annotated:w["default"]},k=function(t,e){var i=e.closest(".sqs-block");r["default"](i.find(".meta"))},E=function(t){var e=t.closest(".sqs-block");u["default"](e)};a["default"].emitter.on("app--hook--inline-video",E),a["default"].emitter.on("app--hook--diptych",k),e["default"]=T},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=i(0),r=n(s),l=i(134),u=n(l),d=function(){function t(e){var i=this;o(this,t),this.el=e,this.cols=this.el.find(".js-brand-col"),this.stagger=null,this.delay=50,this.timeout=null,this.duration=1500,this.colsRandom=null,this.cols.forEach(function(t,e){var n=i.cols.eq(e),o=n.find(".js-brand-row__anim");n.data({index:0,length:o.length,duration:400,animations:o}),o.eq(0).addClass("is-active")}),this.doTimeout()}return a(t,[{key:"doTimeout",value:function(){this.colsRandom=r["default"].util.shuffle(this.cols.map(function(t,e){return e})),this.timeout=setTimeout(this.onStagger.bind(this),this.duration)}},{key:"onStagger",value:function(){var t=this;this.stagger=new u["default"]({delay:this.delay,steps:this.cols.length}).step(function(){var e=t.cols.eq(t.colsRandom.pop()),i=e.data(),n=i.animations.eq(i.index);i.index===i.length-1?i.index=0:i.index++,t.onTransition(i.animations.eq(i.index),n,i.duration),e.data(i)}).done(function(){t.doTimeout()}).start()}},{key:"onTransition",value:function(t,e,i){return e.removeClass("is-active").addClass("is-exiting"),t.addClass("is-entering"),setTimeout(function(){e.removeClass("is-exiting"),t.removeClass("is-entering").addClass("is-active")},i)}},{key:"destroy",value:function(){clearTimeout(this.timeout),this.stagger.pause()}}]),t}(),c={init:function(){r["default"].log("brand-row initialized")},isActive:function(){return this.getElements()>0},onload:function(){var t=this;this.elements.forEach(function(e,i){var n=t.elements.eq(i);n.data("instance",new d(n))})},unload:function(){this.teardown()},teardown:function(){var t=this;this.elements.forEach(function(e,i){var n=t.elements.eq(i),o=n.data();o.instance.destroy()})},getElements:function(){return this.elements=r["default"].dom.page.find(".js-brand-row"),this.elements.length}};e["default"]=c},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),a=n(o),s=i(1),r=n(s),l=null,u={init:function(){a["default"].dom.body.on("mouseenter",".js-btn",d).on("mouseleave",".js-btn",c),a["default"].log("btns initialized")}},d=function(){try{clearTimeout(l)}catch(t){a["default"].log("warn",t)}r["default"](this).addClass("is-btn-hover")},c=function(){var t=r["default"](this);l=setTimeout(function(){t.removeClass("is-btn-hover")},300)};e["default"]=u},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),a=n(o),s={dependencies:{},init:function(){a["default"].log("codes initialized")},isActive:function(){return this.getElements()>0},onload:function(){var t=this;this.elements.forEach(function(e,i){var n=t.elements.eq(i),o=n.data();o.script||o.style?(t.dependencies.sources=[],o.style&&t.dependencies.sources.push({file:"codes/"+o.style,type:"style"}),o.script&&t.dependencies.sources.push({file:"codes/"+o.script,type:"script"}),a["default"].util.loadDependencies(t.dependencies,r.bind(null,n))):r(n)})},unload:function(){this.teardown()},teardown:function(){this.elements=null,this.dependencies.loaded&&a["default"].util.unloadDependencies(this.dependencies),this.dependencies={},a["default"].emitter.fire("app--code-unload")},getElements:function(){return this.elements=a["default"].dom.page.find(".js-code").not(a["default"].util.preFree),this.elements.length}},r=function(t){t.addClass("is-loaded"),a["default"].emitter.fire("app--code-onload",t)};e["default"]=s},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(0),u=n(l),d=i(19),c=n(d),f=i(34),h=n(f),p=function(t){function e(t,i){o(this,e);var n=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i));return n.$articleSummary=n.$article.find(".js-article-summary"),n.$articleSummary.length&&n.loadSummaryGrid(),n}return s(e,t),r(e,[{key:"loadSummaryGrid",value:function(){var t=this;this.$article.find(".sqs-layout").addClass("is-summarized"),this.summaryData=this.$articleSummary.data(),this.summaryData.items=u["default"].util.shuffle(this.summaryData.items.filter(function(e){return e.id!==t.data.item.id})).slice(0,3),this.summaryData.items=c["default"].getMappedItems(this.summaryData.items,this.summaryData.collection),c["default"].loadGridCluster(this.summaryData.items).then(function(e){t.$articleSummary.append(e),u["default"].emitter.fire("app--update-animate")})}}]),e}(h["default"]);e["default"]=p},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(19),a=n(o),s=i(66),r=n(s),l={grid:a["default"],items:r["default"]};e["default"]=l},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),a=n(o),s=i(11),r=n(s),l=i(64),u=n(l),d=i(50),c=n(d),f=null,h=null,p={init:function(){a["default"].log("items initialized")},isActive:function(){return this.getElements()>0},onload:function(){var t=f.data(),e=r["default"].getState(a["default"].config.gridCustomType);e?a["default"].emitter.fire("app--customgrid-article",f,t):h=t.item.customContent.customType===a["default"].config.caseStudyCustomType?new c["default"](f,t):new u["default"](f,t)},unload:function(){this.teardown()},teardown:function(){f=null,h&&(h.destroy(),h=null)},getElements:function(){return f=a["default"].dom.page.find(".js-article"),f.length}};e["default"]=p},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),a=n(o),s=null,r={init:function(){a["default"].log("color initialized")},isActive:function(){return this.getElements()>0},onload:function(){this.handleData(),a["default"].scroller.on("scroll",l),l(a["default"].scroller.getScrollY())},unload:function(){this.teardown()},teardown:function(){s=null,a["default"].util.resetBgColorForBroadcast(),a["default"].scroller.off("scroll",l),a["default"].dom.html.removeClass("is-color is-color--moment")},handleData:function(){var t=null,e=s.data();a["default"].dom.html.addClass("is-color"),/^#|^rgb/.test(e.bg)&&(t=document.createElement("div"),t.className="is-hidden",t.style.backgroundColor=e.bg,s.append(t),a["default"].dom.html[0].style.backgroundColor=e.bg,a["default"].util.processBgColorForBroadcast(t))},getElements:function(){return s=a["default"].dom.page.find(".js-color"),s.length}},l=function(){a["default"].util.isElementVisibleVert(s[0])?a["default"].dom.html.addClass("is-color--moment"):a["default"].dom.html.removeClass("is-color--moment")};e["default"]=r},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=i(5),r=n(s),l=i(20),u=n(l),d=i(25),c=n(d),f=i(29),h=n(f),p=i(6),v=n(p),m=null,g=function(){function t(){return o(this,t),m||(this.devUA="UA-73407115-1",this.prodUA="UA-39587789-4",this.GAScript="//www.google-analytics.com/analytics.js",this.GAUATag=u["default"].isDev()?this.devUA:this.prodUA,this.initGoogleAnalytics(),v["default"].on("app--analytics-push",this.pushTrack.bind(this)),r["default"]("Analytics initialized"),m=this),m}return a(t,[{key:"initGoogleAnalytics",value:function(){var t=this;m||(window.GoogleAnalyticsObject="ga",window.ga=window.ga||function(){try{window.ga.q=(window.ga.q||[]).push(arguments)}catch(t){r["default"]("warn","GA Error",t)}},window.ga.l=Number(new Date),h["default"](this.GAScript,function(){r["default"]("Analytics GA loaded"),window.ga("create",t.GAUATag,"auto"),window.ga("send","pageview")}))}},{key:"pushTrack",value:function(t){var e=t.pageData.itemTitle||t.pageData.collectionTitle,i=t.pageData.websiteId,n=t.pageData.itemId?{itemId:t.pageData.itemId}:{collectionId:t.pageData.collectionId};window.ga("send","pageview",window.location.href),c["default"].record(i,n,e).then(function(t){r["default"]("Analytics",t)})["catch"](function(t){r["default"]("warn",t)}),this.setDocumentTitle(e)}},{key:"setDocumentTitle",value:function(t){document.title=t}}]),t}();e["default"]=g},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(5),u=n(l),d=i(8),c=n(d),f=i(7),h=n(f),p=function(t){function e(t){o(this,e);var i=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return i.$preload=c["default"].getElementsInView(t),i.$lazyload=t.not(i.$preload),i.$preload.length?i.handlePreload():setTimeout(function(){i.fire("preload")},0),i.$lazyload.length&&i.handleLazyload(),i}return s(e,t),r(e,[{key:"handlePreload",value:function(){var t=this;u["default"]("ImageController preload queue:",this.$preload.length),this.preLoader=c["default"].loadImages(this.$preload,c["default"].noop),this.preLoader.on("done",function(){u["default"]("ImageController preloaded:",t.$preload.length),t.fire("preload")})}},{key:"handleLazyload",value:function(){var t=this;u["default"]("ImageController lazyload queue:",this.$lazyload.length),this.lazyLoader=c["default"].loadImages(this.$lazyload,c["default"].isElementLoadable),this.lazyLoader.on("done",function(){u["default"]("ImageController lazyloaded:",t.$lazyload.length),t.fire("lazyload")})}}]),e}(h["default"]);e["default"]=p},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(1),a=n(o),s=i(5),r=n(s),l=i(8),u=n(l),d=i(25),c=n(d),f=i(12),h=n(f),p=i(35),v=n(p),m=i(9),g=n(m),y=i(38),_=n(y),b=i(36),w=n(b),T=i(6),k=n(T),E=null,j=null,P={init:function(){r["default"]("hooks initialized"),k["default"].on("app--pushed-route",this.onActivateWaypoints.bind(this))},isActive:function(){return this.getElements()>0},onload:function(){this.setWaypoints()},unload:function(){this.teardown()},teardown:function(){E=null,j&&(j.destroy(),j=null)},getElements:function(){return E=g["default"].page.find(".js-hook").not(u["default"].preFree),E.length},setWaypoints:function(){j=new v["default"](E,M,u["default"].noop)},onActivateWaypoints:function(){this.getElements(),this.setWaypoints()}},M=function(t){var e=t.data(),i={format:e.format||"html"},n={dataType:"json"===e.format?"json":"html"},o=w["default"].get("hook--"+e.url),a=C.bind(null,e,t);o?a(o):c["default"].collection(e.url,i,n).then(a)},C=function(t,e,i){if(e.addClass("is-loaded"),"json"===t.format)k["default"].fire("app--hook--"+t.type,i,e);else{var n=a["default"](i),o=n.find(h["default"].hookNodeSelector),s=o.find(h["default"].lazyImageSelector);"json"!==t.format&&(e.append(o).addClass("is-active"),s.length&&_["default"].handleImages(s)),k["default"].fire("app--hook--"+t.type,o,e),k["default"].fire("app--update-animate")}w["default"].set("hook--"+t.url,i)};e["default"]=P},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(9),a=n(o),s=i(6),r=n(s),l={init:function(){a["default"].doc.on("keydown",function(t){r["default"].fire("app--keydown",t,document.activeElement)})},ESC:27,ENTER:13,TAB:9,SPACE:32};e["default"]=l},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),a=n(o),s=i(8),r=n(s),l=i(6),u=n(l),d=i(39),c=n(d),f=i(135),h=n(f),p=i(99),v=n(p),m=50,g=300,y={init:function(){c["default"].on("resize",h["default"](b,m)),c["default"].on("resizewidth",v["default"](_,g)),a["default"]("resizes initialized")}},_=function(){u["default"].fire("app--resize-debounced"),r["default"].updateImages()},b=function(){u["default"].fire("app--resize")};e["default"]=y},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(9),a=n(o),s=i(5),r=n(s),l=i(6),u=n(l),d=i(40),c=n(d),f=null,h=!1,p=!1,v=300,m={init:function(){c["default"].on("scroll",w),c["default"].on("scrollup",_),c["default"].on("scrolldown",b),c["default"].on("scrollmax",T),w(),this.topout(),r["default"]("scrolls initialized")},topout:function(t){t=t||0,window.scrollTo(0,t)},suppress:function(t){h=t},clearStates:function(){a["default"].html.removeClass("is-scrolling-up is-scrolling-down is-scrolling")},isScrollInRange:function(){var t=c["default"].getScrollY();return t>0&&t<c["default"].getScrollMax()},isScrollOutOfRange:function(){var t=c["default"].getScrollY();return 0>=t&&t>=c["default"].getScrollMax()}},g=function(t,e){h||u["default"].fire(t,e)},y=function(t){try{clearTimeout(f)}catch(e){r["default"](e)}p||(p=!0,a["default"].html.addClass("is-scrolling"),g("app--scroll-start",t)),f=setTimeout(function(){p=!1,a["default"].html.removeClass("is-scrolling"),g("app--scroll-end",t)},v)},_=function(){if(m.isScrollInRange()){var t=c["default"].getScrollY();g("app--scroll-up",t),a["default"].html.removeClass("is-scrolling-down").addClass("is-scrolling-up")}},b=function(){if(m.isScrollInRange()){var t=c["default"].getScrollY();g("app--scroll-down",t),a["default"].html.removeClass("is-scrolling-up").addClass("is-scrolling-down")}},w=function(){if(m.isScrollInRange()){var t=c["default"].getScrollY();y(t),g("app--scroll",t)}},T=function(){g("app--scrollmax")};e["default"]=m},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),a=n(o),s=null,r={init:function(){a["default"].log("cover initialized")},isActive:function(){return this.getElements()>0},onload:function(){a["default"].dom.html.addClass("is-cover"),a["default"].scroller.on("scroll",l),l()},unload:function(){this.teardown()},teardown:function(){s=null,a["default"].util.resetBgColorForBroadcast(),a["default"].scroller.off("scroll",l),a["default"].dom.html.removeClass("is-cover is-cover--moment")},getElements:function(){return s=a["default"].dom.page.find(".js-cover"),s.length},setElement:function(t){s=t,a["default"].dom.html.addClass("is-cover"),l()}},l=function(){var t=s.data();!t.ignore&&a["default"].util.isElementVisibleVert(s[0])?a["default"].dom.html.addClass("is-cover--moment"):a["default"].dom.html.removeClass("is-cover--moment")};e["default"]=r},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(1),a=n(o),s=i(0),r=n(s),l=i(4),u=n(l),d=null,c=null,f={init:function(){r["default"].emitter.on("app--pushed-route",this.onActivateWaypoints.bind(this)),r["default"].log("diptych initialized")},isActive:function(){return this.getElements()>0},onload:function(){this.setWaypoints()},unload:function(){this.teardown()},teardown:function(){d=null,c&&(c.destroy(),c=null)},getElements:function(){return d=r["default"].dom.page.find(".js-diptych"),d.length},setWaypoints:function(){c=new r["default"].Waypoints(d,h)},onActivateWaypoints:function(){this.getElements(),this.setWaypoints()}},h=function(t){var e=[],i=t.find(".js-diptych-image"),n=function(t,e){var i=a["default"](u["default"]("VideoTile",e));i.data("onLoaded",o.bind(this,i.find(".js-video-el")[0])),t.parent().append(i),t.remove(),r["default"].emitter.fire("app--hook--inline-video",i)},o=function(t){var i=a["default"](t),n=i.closest(".js-diptych-figure"),o=t.naturalWidth||t.videoWidth;

i.data({width:o,$figure:n}),e.push(i),h+=o,f++,2===f&&s()},s=function(){e.forEach(function(t){var e=t.data(),i=Math.round(e.width/h*100);e.$figure[0].style.width=i+"%"}),t.addClass("is-active")},l=i.length,d=null,c=null,f=0,h=0;for(l;l--;)c=i.eq(l),d=c.data(),d.assetSourceUrl&&!r["default"].detect.isDevice()?n(c,d):r["default"].util.loadImages(c,r["default"].util.noop).on("load",o.bind(this,c[0]))};e["default"]=f},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=i(0),r=n(s),l=function(){function t(e,i){var n=this;o(this,t),this.data=i,this.$node=e.addClass("is-loaded"),this.draggable=null,this.$images=this.$node.find(".js-gallery-image"),this.$itemsWrap=this.$node.find(".js-gallery-items"),this.$items=this.$node.find(".js-gallery-item"),this.$midImage=this.$images.eq(Math.floor((this.$images.length-1)/2)),this.boxHeight=this.data.boxHeight?parseFloat(this.data.boxHeight):null,this.imageSizeDimensions=[],this.isAlignCenter="center"===this.data.align,this.isNonUniform=this.getSetUniformity(),this.$node.addClass(this.isNonUniform?"is-organic":"is-uniform"),r["default"].util.loadImages(this.$images,r["default"].util.noop).on("done",function(){n.bindEvents(),n.createDraggable()})}return a(t,[{key:"bindEvents",value:function(){this._onResize=this.onResize.bind(this),this._onUpdate=this.onUpdate.bind(this),this._onDragStart=this.onDragStart.bind(this),this._onDragEnd=this.onDragEnd.bind(this),r["default"].emitter.on("app--resize-debounced",this._onResize)}},{key:"getSetUniformity",value:function(){this.isNonUniform=!1;var t=this.$images.length-1,e=this.$images.eq(0).data(),i=null,n=r["default"].util.getOriginalDims(e.original),o=n.height;for(this.imageSizeDimensions.unshift(n),t;t--;)e=this.$images.eq(t).data(),n=r["default"].util.getOriginalDims(e.original),i=n.height,i!==o&&(this.isNonUniform=!0),this.imageSizeDimensions.unshift(n);return this.isNonUniform}},{key:"centerBelt",value:function(){r["default"].util.translate3d(this.$itemsWrap[0],r["default"].util.px(-this.$midImage[0].offsetLeft+window.innerWidth/2-this.$midImage[0].clientWidth/2),0,0)}},{key:"createDraggable",value:function(){this.isAlignCenter&&this.centerBelt(),this.draggable=new window.Draggable(this.$itemsWrap[0],r["default"].util.extendObject(r["default"].config.defaultDragBeltOptions,{bounds:this.$node[0],onDragStart:this._onDragStart,onDragEnd:this._onDragEnd,onDrag:this._onUpdate,onThrowUpdate:this._onUpdate})),this.$node.addClass("is-draggable"),this.$items.addClass("is-active")}},{key:"onDragStart",value:function(){this.$node.addClass("is-dragging")}},{key:"onDragEnd",value:function(){this.$node.removeClass("is-dragging")}},{key:"onResize",value:function(){this.draggable.applyBounds(this.$node[0]),this.onUpdate()}},{key:"onUpdate",value:function(){var t=null,e=this.$items.length;for(e;e--;)t=this.$items.eq(e),r["default"].util.isElementVisibleHorz(t[0])?t.addClass("is-active"):t.removeClass("is-active")}},{key:"getBoxHeight",value:function(){return Math.min(window.innerHeight,window.innerWidth)*(this.boxHeight||.7)}},{key:"sizeImages",value:function(){var t=this.$images.length,e=this.getBoxHeight();for(t;t--;){var i=r["default"].util.calculateAspectRatioFit(this.imageSizeDimensions[t].width,this.imageSizeDimensions[t].height,e,e);this.$images[t].parentNode.style.width=r["default"].util.px(i.width)}}},{key:"destroy",value:function(){this.draggable&&this.draggable.kill(),this._onResize&&r["default"].emitter.off("app--resize-debounced",this._onResize)}}]),t}();e["default"]=l},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=function p(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(void 0===n){var o=Object.getPrototypeOf(t);return null===o?void 0:p(o,e,i)}if("value"in n)return n.value;var a=n.get;return void 0===a?void 0:a.call(i)},u=i(0),d=n(u),c=i(41),f=n(c),h=function(t){function e(t,i){o(this,e);var n=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.nodeData=i,n.on("load",n.onLoad.bind(n)),n.on("before",n.onBefore.bind(n)),n.on("after",n.onAfter.bind(n)),n.on("tap",n.clearAuto.bind(n)),n.on("swipe",n.clearAuto.bind(n)),n.$next=n.$node.find(".js-gallery-next"),n.$prev=n.$node.find(".js-gallery-prev"),n.$locks=n.$node.find(".js-gallery-lock"),n.autoDuration=5e3,n.isEnabled=!1,n}return s(e,t),r(e,[{key:"bindScroll",value:function(){this._onScroll=this.onScroll.bind(this),d["default"].emitter.on("app--scroll",this._onScroll)}},{key:"bindMenu",value:function(){this._onMenuOpened=this.onMenuOpened.bind(this),this._onMenuClosed=this.onMenuClosed.bind(this),d["default"].emitter.on("app--menu-opened",this._onMenuOpened),d["default"].emitter.on("app--menu-closed",this._onMenuClosed)}},{key:"clearAuto",value:function(){try{clearTimeout(this.autoTimeout)}catch(t){d["default"].log("warn",t)}}},{key:"handleData",value:function(){if(this.nodeData.cover){var t=this.$active.data("tone"),e=this.$node[0].getBoundingClientRect();"light"===t&&Math.floor(e.top)<=0?d["default"].dom.html.removeClass("is-gallery-dark").addClass("is-gallery-light"):d["default"].dom.html.removeClass("is-gallery-light").addClass("is-gallery-dark")}}},{key:"update",value:function(){this.handleData(),this.autoTimeout=setTimeout(this.onAuto.bind(this),this.autoDuration)}},{key:"transformActive",value:function(t){var e=this.$active[0].clientHeight-window.innerHeight,i=t/window.innerHeight*e;d["default"].util.translate3d(this.$active.find(".js-gallery-image")[0],0,d["default"].util.px(-i),0)}},{key:"checkCover",value:function(){this.nodeData.cover&&d["default"].dom.html.removeClass("is-gallery-light is-gallery-dark")}},{key:"onAuto",value:function(){this.advance()}},{key:"onLoad",value:function(){var t=this;this.onScroll(),this.bindScroll(),this.bindMenu(),setTimeout(function(){t.$active.find(".js-gallery-lock").addClass("is-active")},this.data.duration)}},{key:"onBefore",value:function(){this.update()}},{key:"onAfter",value:function(){this.$locks.removeClass("is-active"),this.$active.find(".js-gallery-lock").addClass("is-active")}},{key:"onScroll",value:function(t){var e=d["default"].util.isElementVisibleVert(this.$node[0]);e&&this.nodeData.cover&&this.transformActive(t),e?this.isEnabled?this.handleData():(this.isEnabled=!0,this.update()):this.isEnabled&&(this.isEnabled=!1,this.clearAuto(),this.checkCover())}},{key:"onMenuOpened",value:function(){this.isEnabled=!1,this.clearAuto()}},{key:"onMenuClosed",value:function(){this.onScroll()}},{key:"destroy",value:function(){l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this),this.clearAuto(),this.checkCover(),this._onScroll&&d["default"].emitter.off("app--scroll",this._onScroll),this._onMenuOpened&&(d["default"].emitter.off("app--menu-opened",this._onMenuOpened),d["default"].emitter.off("app--menu-closed",this._onMenuClosed)),d["default"].dom.html.removeClass("is-gallery-light is-gallery-dark")}}]),e}(f["default"]);e["default"]=h},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(41),u=n(l),d=function(t){function e(t){o(this,e);var i=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.$itemsWrap=i.$node.find(".js-gallery-items"),i.on("load",i.onLoad.bind(i)),i}return s(e,t),r(e,[{key:"onLoad",value:function(){this.applyAspect()}},{key:"applyAspect",value:function(){var t=this.$images.length,e=null,i=null,n=0,o=0;for(t;t--;)e=this.$images[t].naturalWidth,i=this.$images[t].naturalHeight,n=i/e,1>=n&&n>o&&(o=n);n=100*o,this.$itemsWrap[0].style.paddingBottom=n+"%"}}]),e}(u["default"]);e["default"]=d},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=i(0),r=n(s),l=i(1),u=n(l),d=function(){function t(e){o(this,t),this.$node=e.addClass("is-loaded"),this.$plates=this.$node.find(".js-gallery-plate"),this.$colorGrab=u["default"]("<div />").addClass("is-hidden"),this.$node.prepend(this.$colorGrab),this.bindEvents()}return a(t,[{key:"bindEvents",value:function(){var t=this;this._onUpdatePlates=this.onUpdatePlates.bind(this),r["default"].emitter.on("app--scroll",this._onUpdatePlates),setTimeout(function(){t.originalColor=getComputedStyle(r["default"].dom.html[0])["background-color"]||null},r["default"].util.getTransitionDuration(r["default"].dom.html[0]))}},{key:"onPlateHandler",value:function(t,e){t.addClass("is-active is-active-color"),r["default"].dom.html[0].style.backgroundColor=e,this.$colorGrab[0].style.backgroundColor=e,r["default"].util.processBgColorForBroadcast(this.$colorGrab[0])}},{key:"getMostVisibleElement",value:function(t){var e=null,i=0,n=null,o=null,a=t.length;if(1===t.length)o=t;else for(a;a--;){if(e=t[a].getBoundingClientRect(),e.top>=0&&e.bottom<=window.innerHeight){o=t.eq(a);break}e.top>0&&(n=window.innerHeight-e.top),e.height<window.innerHeight?n=e.height-Math.abs(e.top):e.bottom<window.innerHeight&&(n=window.innerHeight-(window.innerHeight-e.bottom)),n>i&&(i=n,o=t.eq(a))}return o}},{key:"deactivatePlates",value:function(){this.$node.removeClass("is-active"),this.$plates.removeClass("is-active is-active-color"),this.originalColor?(this.$colorGrab[0].style.backgroundColor=this.originalColor,r["default"].dom.html[0].style.backgroundColor=this.originalColor,r["default"].util.processBgColorForBroadcast(this.$colorGrab[0])):r["default"].util.resetBgColorForBroadcast()}},{key:"onUpdatePlates",value:function(){var t=null,e=r["default"].util.getElementsInView(this.$plates),i=this.getMostVisibleElement(e),n=this.$node[0].getBoundingClientRect();e.length?n.top>window.innerHeight/2&&this.$node.is(".is-active")?this.deactivatePlates():(n.top<window.innerHeight/2&&!this.$node.is(".is-active")&&(this.$node.addClass("is-active"),this.onPlateHandler(this.$plates.eq(0),this.$plates.eq(0).data("color")||this.originalColor)),i&&!i.is(".is-active-color")&&this.$node.is(".is-active")&&(t=i.data(),this.$plates.removeClass("is-active is-active-color"),e.addClass("is-active"),this.onPlateHandler(i,t.color||this.originalColor),t.cover?r["default"].dom.html.addClass("is-gallery-light"):r["default"].dom.html.removeClass("is-gallery-light"))):this.$node.is(".is-active")&&this.deactivatePlates()}},{key:"destroy",value:function(){r["default"].util.resetBgColorForBroadcast(),r["default"].dom.html.removeClass("is-gallery-light"),this._onUpdatePlates&&r["default"].emitter.off("app--scroll",this._onUpdatePlates)}}]),t}();e["default"]=d},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),a=n(o),s=i(76),r=n(s),l=i(79),u=n(l),d=i(77),c=n(d),f=i(78),h=n(f),p=null,v=null,m={dependencies:{sources:[{file:"greensock.draggable.js",type:"script"}],filter:function(){return p.filter("[data-type='beltdragger']").length>0}},init:function(){a["default"].log("galleries initialized"),a["default"].emitter.on("app--update-galleries",this.onActivateWaypoints.bind(this)),a["default"].emitter.on("app--pushed-route",this.onActivateWaypoints.bind(this))},isActive:function(){return this.getElements()>0},onload:function(){this.handleOnload()},unload:function(){this.teardown()},teardown:function(){g(),this.dependencies.loaded&&a["default"].util.unloadDependencies(this.dependencies),v&&(v.destroy(),v=null),p=null},getElements:function(){return p=a["default"].dom.page.find(".js-gallery"),p.length},setWaypoints:function(){v=new a["default"].Waypoints(p,y,a["default"].util.isElementVisibleVert)},onActivateWaypoints:function(){this.getElements(),this.handleOnload()},handleOnload:function(){var t=this;this.dependencies.filter()&&!this.dependencies.loaded?a["default"].util.loadDependencies(this.dependencies,function(){t.setWaypoints()}):this.setWaypoints()}},g=function(){var t=p.filter(".is-loaded"),e=t.length,i=null;for(e;e--;)i=t.eq(e).data(),i.gallery&&(i.gallery.destroy(),i.gallery=null)},y=function(t){var e=null,i=t.data();"beltdragger"===i.type?e=new r["default"](t,i):"carousel"===i.type?i.style&&"inline"!==i.style?"auto"===i.style&&(e=new c["default"](t,i)):e=new h["default"](t):"colorplates"===i.type&&(e=new u["default"](t)),t.data("gallery",e)};e["default"]=m},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=i(0),r=n(s),l=i(1),u=n(l),d=null,c=u["default"]('<div class="gridwall-loader load__wrap"><div class="load__anim"></div></div>'),f=function(){function t(){o(this,t)}return a(t,[{key:"append",value:function(){r["default"].dom.body.append(c)}},{key:"load",value:function(){this.append(),setTimeout(function(){c.addClass("is-active")},10)}},{key:"stop",value:function(){c.removeClass("is-active"),this.complete()}},{key:"complete",value:function(){c.addClass("is-done"),setTimeout(function(){c.detach().removeClass("is-active is-done")},r["default"].util.getTransitionDuration(c[0]))}}]),t}(),h={mount:function(){d=new f,d.append()},load:function(){d=new f,d.load()},stop:function(){d&&d.stop(function(){d=null})}};e["default"]=h},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=i(1),r=n(s),l=i(0),u=n(l),d=i(26),c=n(d),f=i(4),h=n(f),p=null,v=function(){function t(){return o(this,t),p||(this.isOpen=!1,this.$node=r["default"](h["default"]("AudioBar",{})),this.$pp=this.$node.find(".js-audiobar-pp"),this._scrubber=null,this._scrubberUI={$module:this.$node,$progress:this.$node.find(".js-media-progress"),$scrubber:this.$node.find(".js-media-scrubber"),$time:this.$node.find(".js-media-time"),$duration:this.$node.find(".js-media-duration")},this._audio=null,this._audios=[],this.bindEvents(),u["default"].log("AudioBar initialized"),p=this),p}return a(t,[{key:"isActive",value:function(){return this.isOpen}},{key:"bindEvents",value:function(){this._onPPClick=this.onPPClick.bind(this),this._onSpaceBar=this.onSpaceBar.bind(this),this.$pp.on("click",this._onPPClick),u["default"].dom.doc.on("keypress",this._onSpaceBar)}},{key:"initAudio",value:function(t){return this._audio&&this._audio.data.id===t.data.id?void u["default"].log("AudioBar - Already activated this audio."):(this._audio&&(this._audio.destroy(),this._audios.splice(this._audios.indexOf(this._audio),1)),this._scrubber&&this._scrubber.destroy(),this._audio=t,this._scrubber=new c["default"]("audio",this._audio.data,this._scrubberUI),this.updateUI(this._audio.data.duration/1e3),this._audios.push(this._audio),void(this.isOpen?this.show():this.open()))}},{key:"stopAudios",value:function(){var t=this;this._audios.forEach(function(e){e.data.id!==t._audio.data.id&&e.stop()})}},{key:"open",value:function(){this.isOpen=!0,u["default"].dom.body.append(this.$node.addClass("is-off")),this.show()}},{key:"show",value:function(){var t=this;setTimeout(function(){t.$node.addClass("is-active")},10),setTimeout(function(){t.$node.removeClass("is-active is-off")},4e3)}},{key:"close",value:function(){var t=this;this.isOpen=!1,this.$node.addClass("is-off"),setTimeout(function(){t.$node.detach().removeClass("is-active is-off")},u["default"].config.defaultDuration)}},{key:"getAudioId",value:function(){return this._audio.data.id}},{key:"updateUI",value:function(t){this.$pp.removeClass("is-playing"),this._scrubber.resetUI(t)}},{key:"togglePPOn",value:function(){this.$pp.addClass("is-playing")}},{key:"togglePPOff",value:function(){this.$pp.removeClass("is-playing")}},{key:"onPPClick",value:function(){this._audio&&(c["default"].stopChannels(),this._audio.togglePP())}},{key:"onSpaceBar",value:function(t){this._audio&&t.keyCode===u["default"].keys.SPACE&&(t.preventDefault(),this.$pp.trigger("click"))}},{key:"destroy",value:function(){this._scrubber&&this._scrubber.destroy(),this._onPPClick&&this.$pp.off("click",this._onPPClick),this._onSpaceBar&&u["default"].dom.doc.off("keypress",this._onSpaceBar),this._audio&&(this._audio.destroy(),this._audio=null),this.isOpen&&this.close(),this.$pp.off("click"),this.$node.removeClass("is-active")}}]),t}();e["default"]=v},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=i(1),r=n(s),l=i(0),u=n(l),d=i(43),c=n(d),f=function(){function t(e){var i=this;o(this,t),this.$node=e,this.$tracks=this.$node.find(".js-playlist-track"),this._listIds=[],this._audios=[],this.$tracks.forEach(function(t){var e=new c["default"](r["default"](t));i._audios.push(e),i._listIds.push(e.data.id)}),this.bindEvents()}return a(t,[{key:"setCurrentTrack",value:function(t){this.$tracks.removeClass("is-active"),this.$tracks.eq(t).addClass("is-active")}},{key:"onAudioEnded",value:function(t){var e=this.$tracks.filter(".is-active").index();-1!==this._listIds.indexOf(t)&&(e===this._audios.length-1?e=0:e+=1,this.setCurrentTrack(e),this.$tracks.eq(e).trigger("click"))}},{key:"bindEvents",value:function(){var t=this;this.$node.on("click",".js-playlist-track",function(e){t.setCurrentTrack(r["default"](e.currentTarget).index())}),this._onAudioEnded=this.onAudioEnded.bind(this),u["default"].emitter.on("app--audio-ended",this._onAudioEnded)}},{key:"destroy",value:function(){u["default"].emitter.off("app--audio-ended",this._onAudioEnded),this._audios.forEach(function(t){t instanceof c["default"]&&t.destroy()})}}]),t}();e["default"]=f},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=function m(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(void 0===n){var o=Object.getPrototypeOf(t);return null===o?void 0:m(o,e,i)}if("value"in n)return n.value;var a=n.get;return void 0===a?void 0:a.call(i)},u=i(0),d=n(u),c=i(14),f=n(c),h=i(13),p=n(h),v=function(t){function e(t,i){o(this,e);var n=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i));return n.$videoNode=n.$node.find(".js-video-el"),d["default"].detect.isDevice()?n.initMobile():(n.data.sourceUrl=n.getSourceUrl(n.data.sourceUrl),n.initVideo()),n}return s(e,t),r(e,[{key:"initMobile",value:function(){this.$videoSkin=this.$node.find(".js-device-skin"),this.$videoScreen=this.$node.find(".js-device-screen"),this.$videoNode[0].setAttribute("poster",this.data.assetUrl),this.$videoNode[0].setAttribute("controls",!0),this.$videoNode[0].setAttribute("autoplay",!1),this.$videoNode[0].style.marginTop="0",this.$videoNode[0].style.width="100%",this.$videoSkin[0].style.pointerEvents="none",this.$videoScreen[0].style.paddingBottom="0",this.createMediaNode(this.data.id,this.data.sourceUrl,this.$videoNode[0])}},{key:"initVideo",value:function(){var t=this;d["default"].util.loadImages(this.$node.find(".js-lazy-image"),d["default"].util.noop),this.waitForLoadedMetaData(function(){t.autoplayHandler=new p["default"](t.$node,t.data.id)}),this.$videoNode[0].setAttribute("loop",!0),this.createMediaNode(this.data.id,this.data.sourceUrl,this.$videoNode[0])}},{key:"destroy",value:function(){l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this),this.autoplayHandler&&this.autoplayHandler.destroy()}}]),e}(f["default"]);e["default"]=v},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=function m(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(void 0===n){var o=Object.getPrototypeOf(t);return null===o?void 0:m(o,e,i)}if("value"in n)return n.value;var a=n.get;return void 0===a?void 0:a.call(i)},u=i(0),d=n(u),c=i(14),f=n(c),h=i(13),p=n(h),v=function(t){function e(t,i){o(this,e);var n=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i));return d["default"].detect.isDevice()?n.initMobile():(n.data.sourceUrl=n.getSourceUrl(n.data.sourceUrl),n.initVideo()),n}return s(e,t),r(e,[{key:"initMobile",value:function(){var t=this;this.$node.addClass("_video--mobile"),this.$videoNode=this.$node.find(".js-video-el"),this.$videoNode[0].setAttribute("autoplay",!0),this.$videoNode[0].setAttribute("playsInline",!0),this.$videoAspect=this.$node.find(".js-video-aspect"),this.$node.find(".js-video-controls").remove(),this.createMediaNode(this.data.id,this.data.sourceUrl,this.$videoNode[0]),this.waitForLoadedMetaData(this.data.id,function(){t.applyAspect()})}},{key:"initVideo",value:function(){var t=this;this.$videoItem=this.$node.addClass("is-played"),this.$videoNode=this.$videoItem.find(".js-video-el"),this.$videoAspect=this.$videoItem.find(".js-video-aspect"),this.$videoIcon=this.$videoItem.find(".js-video-icon"),this.$videoWrap=this.$videoItem.find(".js-video-wrap"),this.$videoNode[0].setAttribute("loop",!0),this.waitForLoadedMetaData(function(){t.applyAspect(),t.autoplayHandler=new p["default"](t.$node,t.data.id)}),this.createMediaNode(this.data.id,this.data.sourceUrl,this.$videoNode[0]),this.bindEventHandlers()}},{key:"destroy",value:function(){l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this),this.autoplayHandler&&this.autoplayHandler.destroy(),this.$videoIcon&&this.$videoIcon.off("click")}}]),e}(f["default"]);e["default"]=v},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=function p(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(void 0===n){var o=Object.getPrototypeOf(t);return null===o?void 0:p(o,e,i)}if("value"in n)return n.value;var a=n.get;return void 0===a?void 0:a.call(i)},u=i(14),d=n(u),c=i(13),f=n(c),h=function(t){function e(t,i){o(this,e);var n=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i));return n.data.assetSourceUrl=n.getSourceUrl(n.data.assetSourceUrl),n.initVideo(),n}return s(e,t),r(e,[{key:"initVideo",value:function(){var t=this;this.$videoItem=this.$node.addClass("is-played"),this.$videoNode=this.$videoItem.find(".js-video-el"),this.$videoAspect=this.$videoItem.find(".js-video-aspect"),this.waitForLoadedMetaData(function(){t.applyAspect(),t.autoplayHandler=new f["default"](t.$node,t.data.id),"function"==typeof t.data.onLoaded&&t.data.onLoaded()}),this.createMediaNode(this.data.id,this.data.assetSourceUrl,this.$videoNode[0])}},{key:"destroy",value:function(){l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this),this.autoplayHandler&&this.autoplayHandler.destroy()}}]),e}(d["default"]);e["default"]=h},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=i(0),r=n(s),l=i(1),u=n(l),d=i(27),c=n(d),f=i(44),h=n(f),p=i(85),v=n(p),m=i(45),g=n(m),y=i(84),_=n(y),b=i(4),w=n(b),T=function(){function t(e,i){o(this,t),this.$node=e,this.data=i,this._files={},this._video=null,this._embed=null,this.loadVimeoData()}return a(t,[{key:"loadVimeoData",value:function(){var t=this,e=this.data.sourceUrl.split("/").pop();r["default"].api.vimeo(e).then(function(e){e.files?t.handleVimeoData(e):t._embed=new c["default"](t.$node,t.data)})["catch"](function(e){t._embed=new c["default"](t.$node,t.data),r["default"].log("warn","VideoVimeo ajax failed",e,t.data)})}},{key:"logVideoFiles",value:function(t){var e=t.files.length;for(e;e--;)(!this._files[t.files[e].quality]||this._files[t.files[e].quality]&&t.files[e].size>this._files[t.files[e].quality].size)&&(this._files[t.files[e].quality]=t.files[e])}},{key:"getVideoFile",value:function(){return r["default"].detect.isDevice()?this._files.mobile||this._files.sd:this._files.hd||this._files.sd}},{key:"getVideoTag",value:function(t){var e=["Autoplay","Feature","Mobile","Cover"],i=t.tags.length,n=null;for(i;i--;)if(-1!==e.indexOf(t.tags[i].name)){n=t.tags[i];break}return n}},{key:"handleVimeoData",value:function(t){var e=null;this.logVideoFiles(t);var i=this.getVideoFile(),n=this.getVideoTag(t);this.data.sourceUrl=i.link,"Autoplay"===n.name?(e=u["default"](w["default"]("VideoMinimal",this.data)),this.$node.append(e),this._video=new v["default"](e,this.data)):"Feature"===n.name?this._video=new g["default"](this.$node,this.data):"Mobile"===n.name?(e=u["default"](w["default"]("VideoDeviceSkin",this.data)),this.$node.append(e),this._video=new _["default"](e,this.data)):"Cover"===n.name&&(this._video=new h["default"](this.$node,this.data))}},{key:"destroy",value:function(){this._controls&&this._controls.destroy()}}]),t}();e["default"]=T},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(43),a=n(o),s=i(0),r=n(s),l=i(83),u=n(l),d=i(86),c=n(d),f=i(27),h=n(f),p=i(87),v=n(p),m=i(44),g=n(m),y=i(45),_=n(y),b=i(4),w=n(b),T=[],k=!1,E={media:null,blocks:null},j=null,P=null,M={init:function(){r["default"].log("media initialized"),r["default"].emitter.on("app--hook--inline-video",D),r["default"].emitter.on("app--pushed-route",this.onActivateWaypoints.bind(this))},isActive:function(){return this.getElements()>0||k},onload:function(){this.setWaypoints()},unload:function(){this.teardown()},teardown:function(){this.killallMedia(),E.media&&E.media.destroy(),E.blocks&&E.blocks.destroy(),E={media:null,blocks:null},j=null,P=null},getElements:function(){return j=r["default"].dom.page.find(".js-media, .js-device-video"),P=r["default"].dom.page.find(".sqs-block-video"),j.length||P.length},setWaypoints:function(){j.length&&(E.media=new r["default"].Waypoints(j,I)),P.length&&(E.blocks=new r["default"].Waypoints(P,x))},onActivateWaypoints:function(){this.killallMedia(),this.getElements(),this.setWaypoints()},killallMedia:function(){O(),k=!1}},C=function(t){T.push(t)},O=function(){var t=T.length,e=null;for(t;t--;)e=T[t],e&&e.destroy&&(e.destroy(),e=null);T=[]},$=function(t){return(t.providerName||t.resolvedBy).toLowerCase();

},S=function(t,e){var i=null,n=null;return e.oembed&&e.oembed.html&&(n=$(e.oembed),e.videoApiProvider=n),e.assetSourceUrl?i=new c["default"](t,e):e.cover?i=new g["default"](t,e):e.oembed&&e.oembed.html&&n!==r["default"].config.supportedVideoApiProvider?i=new h["default"](t,e):e.oembed&&e.oembed.html&&n===r["default"].config.supportedVideoApiProvider?i=new v["default"](t,e):e.customContent&&e.customContent.customType===r["default"].config.videoCustomType&&(i=new _["default"](t,e)),i},A=function(t){return t.is(".js-playlist")?new u["default"](t):new a["default"](t)},I=function(t){var e=t.data("json")||t.data(),i=t.is(".js-video")?S(t,e):A(t);t.data("media",i),C(i)},D=function(t){k=!0,I(t.is(".js-video")?t:t.find(".js-video"))},x=function(t){var e=null,i=t.find(".sqs-block-content"),n=t.find("img[data-src]"),o=t.data(r["default"].config.sqsSpecialProps.blockDataKey),a=r["default"].util.getAttrMap(o.html),s=$(o),l={id:t[0].id,oembed:{html:o.html,height:o.height||a.height,width:o.width||a.width,providerName:s},sourceUrl:o.url,assetUrl:o.customThumb?n.data("src"):o.thumbnailUrl,body:o.description.html?w["default"]("VideoCaption",{body:o.description.html}):"",systemDataVariants:o.customThumb?r["default"].config.sysDataVariants:""};t.addClass("is-hidden"),i[0].innerHTML="",e=S(i,l),i.data("media",e),C(e),t.removeClass("is-hidden")};e["default"]=M},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(1),a=n(o),s=i(17),r=n(s),l=i(0),u=n(l),d=i(21),c=n(d),f=i(28),h=n(f),p=i(11),v=n(p),m=i(31),g=n(m),y=i(33),_=n(y),b=null,w=null,T=null,k=null,E={},j=!1,P={init:function(){u["default"].log("filters initialized")},isActive:function(){return this.getElements()>0},onload:function(){var t=g["default"](window.location.search);v["default"].setState("categoryFilter",t.category||"All"),this.bindMainEvents(),this.menu=new h["default"](w),_["default"].stop()},unload:function(){this.teardown()},teardown:function(){E.label.off("tap",O),E.menu.off("tap",C),E.menu.off("tap",M),E={},b=null,w=null,T=null,k=null},getElements:function(){return b=u["default"].dom.page.find(".js-filters"),w=u["default"].dom.page.find(".js-filters-menu"),T=w.find(".js-filters-category"),k=b.find(".js-filters-category"),b.length},open:function(){this.menu.isActive()||(this.menu.open(),E.menu.on("tap",".js-filters-menu",C),E.menu.on("tap",".js-filters-category",M))},close:function(){this.menu.isActive()&&(this.menu.close(),E.menu.off("tap",C),E.menu.off("tap",M))},bindMainEvents:function(){E.label=new r["default"](b[0],u["default"].util.getDefaultHammerOptions()),E.label.on("tap",".js-controller--filters",O),E.menu=new r["default"](w[0],u["default"].util.getDefaultHammerOptions())}},M=function(){var t=a["default"](this),e=t[0].innerText;c["default"].disableHeaderAnim(!0),T.removeClass("is-active"),t.addClass("is-active"),k[0].innerHTML=e,O(),_["default"].load("bottom")},C=function(t){-1===t.target.className.indexOf("js-filters-category")&&O()},O=function(){j=!j,j?P.open():P.close()};e["default"]=P},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=i(0),r=n(s),l=i(48),u=n(l),d=i(17),c=n(d),f=i(28),h=n(f),p=i(4),v=n(p),m=function(){function t(e,i){o(this,t),this.data=i,this.$node=e,this.$formHolder=this.$node.find(".js-menu-careers-form-holder"),this.$formOverlay=this.$node.find(".js-menu-careers-form"),this.isPosting=!1,this.menu=new h["default"](this.$formOverlay),this.loadJob(),this.bindEvents(),r["default"].dom.html.addClass("is-careers-detail")}return a(t,[{key:"loadJob",value:function(){r["default"].api.job({id:this.data.jobId,questions:!0}).then(this.onJobLoaded.bind(this))}},{key:"bindEvents",value:function(){this._onTapOverlayForm=this.onTapOverlayForm.bind(this),this._onToggleApplicationForm=this.onToggleApplicationForm.bind(this),this._hammers={},this._hammers.page=new c["default"](this.$node[0],r["default"].util.getDefaultHammerOptions()),this._hammers.page.on("tap",".js-controller--careers-form",this._onToggleApplicationForm),this._hammers.form=new c["default"](this.$formOverlay[0],r["default"].util.getDefaultHammerOptions()),this._hammers.form.on("tap",".js-menu-careers-form",this._onTapOverlayForm)}},{key:"formatJobData",value:function(t){var e={text:[],file:[]};return t.questions.forEach(function(t){t.fields[0].name_human=t.label.replace(/\s/g,"_").replace(/\?/g,"").toLowerCase();var i={label:t.label,required:t.required,field:t.fields[0]};"input_file"===i.field.type?"Cover Letter"!==i.label&&e.file.push(i):e.text.push(i)}),t._questions=e,t}},{key:"getFormField",value:function(t){var e=t.field.type.replace(/^input_/,"");"email"===t.field.name&&(e="email"),"phone"===t.field.name&&(e="tel"),("Website"===t.label||"LinkedIn Profile"===t.label)&&(e="url");var i={type:e,name:t.field.name,name_human:t.field.name_human,label:t.label,className:"form__"+e,isFile:"file"===e};return i}},{key:"createApplicationForm",value:function(){var t=this,e=[];this.job._questions.text.forEach(function(i){e.push(t.getFormField(i))}),this.job._questions.file.forEach(function(i){e.push(t.getFormField(i))}),this.$formHolder.append(v["default"]("JobApplication",{jobId:this.job.id,fields:e,message:this.data.message,jobTitle:this.job.title,action:r["default"].api.data.greenhouse.app})),this._formHandler=new u["default"]({$form:this.$formHolder.find(".js-careers-form"),apiMethod:"apply",barStyle:"light"}),this._formHandler.on("success",function(e){r["default"].log("Job apply success",e),setTimeout(t.onToggleApplicationForm.bind(t),8*r["default"].config.defaultDuration)}),this._formHandler.on("failure",function(t){r["default"].log("Job apply error",t)})}},{key:"onJobLoaded",value:function(t){this.job=this.formatJobData(t),this.createApplicationForm(),r["default"].emitter.fire("app--update-animate"),r["default"].log("JobDetail",this)}},{key:"onTapOverlayForm",value:function(t){this.$formHolder[0].contains(t.target)||this.onToggleApplicationForm()}},{key:"onToggleApplicationForm",value:function(){this.menu.toggle()}},{key:"destroy",value:function(){this._hammers&&(this._hammers.form.off("tap",this._onTapOverlayForm),this._hammers.page.off("tap",this._onToggleApplicationForm)),this._formHandler&&this._formHandler.destroy(),r["default"].dom.html.removeClass("is-careers-detail")}}]),t}();e["default"]=m},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),a=n(o),s=i(90),r=n(s),l=null,u=null,d={init:function(){a["default"].log("careers initialized")},isActive:function(){return this.getElements()>0},onload:function(){u=new r["default"](l,l.data())},unload:function(){this.teardown()},teardown:function(){l=null,u&&(u.destroy(),u=null)},getElements:function(){return l=a["default"].dom.page.find(".js-careers"),l.length}};e["default"]=d},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(93),a=n(o),s=i(91),r=n(s),l={careers:r["default"],studio:a["default"]};e["default"]=l},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),a=n(o),s=i(1),r=n(s),l=i(4),u=n(l),d=null,c=null,f={init:function(){a["default"].emitter.on("app--hook--people",this.onHookedPeople.bind(this)),a["default"].log("studio initialized")},isActive:function(){return this.getElements()>0},onload:function(){},unload:function(){this.teardown()},teardown:function(){d=null,c&&a["default"].emitter.off("app--scroll",c)},getElements:function(){return d=a["default"].dom.page.find(".js-studio"),d.length},onHookedPeople:function(t,e){p(t,e),c=h.bind(this,t,e),a["default"].emitter.on("app--scrollmax",c)}},h=function(t,e){p(t,e)},p=function(t,e){if(t.items.length){var i=null,n=t.items.splice(0,6);n.forEach(function(t){t.title=t.title||"&nbsp;",t.color=t.colorData.suggestedBgColor,t.taxonomy=t.categories?t.categories.join(" / "):"&nbsp;"}),i=r["default"](u["default"]("GridPeople",{people:n})),e.append(i),a["default"].emitter.fire("app--update-animate"),a["default"].util.loadImages(i.find(".js-lazy-image"),a["default"].util.noop)}else a["default"].log("Studio","People Loaded"),a["default"].emitter.off("app--scrollmax",c)};e["default"]=f},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(1),a=n(o),s=i(0),r=n(s),l={init:function(){this.isSubmit=!1,this.scriptUrl="https://script.google.com/macros/s/AKfycbwrNLn9OzFAK0ILzFJektC7SD2yBRso6Vj-pOqxQ7jw7OP6SRt6/exec",this.isEmail=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,r["default"].log("subscribe initialized")},isActive:function(){return this.getElements()>0},onload:function(){this.button.on("click",u),this.field.on("keydown keyup",d)},unload:function(){this.teardown()},teardown:function(){this.button.off("click"),this.field.off("keydown keyup"),this.element=null,this.field=null,this.button=null,this.isSubmit=!1},getElements:function(){return this.element=r["default"].dom.page.find(".js-subscribe"),this.field=this.element.find(".js-subscribe-field"),this.button=this.element.find(".js-subscribe-button"),this.element.length}},u=function(){!l.isSubmit&&l.isEmail.test(l.field[0].value)&&(l.isSubmit=!0,a["default"].ajax({url:l.scriptUrl,data:{email:l.field[0].value},dataType:"jsonp"}).then(function(){l.isSubmit=!1,l.field[0].value="Subscribed!"}))},d=function(t){l.isEmail.test(l.field[0].value)&&13===t.keyCode&&u()};e["default"]=l},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={};i.GridWall='\n{{#items}}\n    <div class="grid__item grid__item--gridwall js-grid-item">\n        <a class="grid__link" href="{{fullUrl}}">\n            {{#systemDataVariants}}\n                <img class="grid__image image js-grid-image animate js-animate" data-img-src="{{assetUrl}}" data-variants="{{systemDataVariants}}" />\n            {{/systemDataVariants}}\n            {{^systemDataVariants}}\n                <div class="grid__title grid__title--typo h3">{{{title}}}</div>\n            {{/systemDataVariants}}\n            <div class="grid__lock">\n                {{#systemDataVariants}}\n                    <div class="grid__title h5 -ss-01">{{{title}}}</div>\n                {{/systemDataVariants}}\n            </div>\n        </a>\n    </div>\n{{/items}}',i.GridPeople='\n{{#people}}\n    <div class="person -column">\n        <figure class="figure">\n            <span class="figure__wrap -column">\n                <span class="figure__plate -column" style="background-color: #{{color}};">\n                    <img class="figure__image image js-lazy-image animate animate--fade js-animate" data-img-src="{{assetUrl}}" data-variants="{{systemDataVariants}}" />\n                </span>\n            </span>\n        </figure>\n        <div class="grid__info -text--center">\n            <h4 class="h5">{{title}}</h4>\n            <div class="meta -grey">{{taxonomy}}</div>\n        </div>\n    </div>\n{{/people}}',i.NextCaseStudy='\n<div class="article__cover js-article-plate cover cover--base js-cover -text--center" id="article-cover--{{id}}">\n    <style class="js-article-cover-style">\n        #article-cover--{{id}} .article__cover__screen { background-color: {{{leadInColor}}} !important; }\n        #article-cover--{{id}} .article__cover__text { color: {{{leadInTextColor}}} !important; }\n    </style>\n    <div class="article__cover__screen cover__spread js-article-screen"></div>\n    <div class="cover__spread js-article-cover ghost">\n        <div class="article__cover__text h4 -ss-01 js-article-leadin js-animate-article animate -light -lead -text--left ghost__child">\n            {{{text}}}\n        </div>\n    </div>\n</div>',i.AudioBar='\n<div class="_audiobar js-audio-bar media">\n    <div class="_audiobar__pp ghost">\n        <div class="_audiobar__icon icon icon--play icon--play--light js-audiobar-pp ghost__child"></div>\n    </div>\n    <div class="_audiobar__scrubber -column">\n        <div class="media__scrubber js-media-scrubber">\n            <div class="media__progress js-media-progress"></div>\n        </div>\n    </div>\n    <div class="_audiobar__metadata meta -column ghost">\n        <div class="_audiobar__time js-media-time ghost__child -ss-tl"></div>\n        <div class="_audiobar__duration js-media-duration -column ghost__child -ss-tl"></div>\n    </div>\n</div>',i.VideoCustom='\n<div class="_video -tuck">\n    <div class="_video__wrap js-video-wrap">\n        <div class="_video__aspect js-video-aspect">\n            <video class="_video__video js-video-el"></video>\n        </div>\n        <div class="_video__poster js-video-poster -cover animate animate--fade" data-img-src="{{assetUrl}}" {{#systemDataVariants}}data-variants="{{systemDataVariants}}"{{/systemDataVariants}}></div>\n        <div class="_video__info js-video-info ghost">\n            <button class="icon--light js-play-icon animate animate--fade animate--delayed ghost__child js-btn -btn">\n                <span class="icon icon--svg icon--play-button">\n                    <svg xmlns="http://www.w3.org/2000/svg" version="1.1" x="0" y="0" viewBox="0 0 80 80" xml:space="preserve"><path d="M40 0C17.9 0 0 17.9 0 40c0 22.1 17.9 40 40 40s40-17.9 40-40C80 17.9 62.1 0 40 0zM40 78C19 78 2 61 2 40S19 2 40 2s38 17 38 38S61 78 40 78z"/><polygon class="st0" points="33.9 51.4 51.1 39.6 33.9 28 "/></svg>\n                </span>\n            </button>\n        </div>\n        <div class="media__scrubber js-media-scrubber">\n            <div class="media__progress js-media-progress"></div>\n        </div>\n        <div class="media__time js-media-time meta meta--small"></div>\n        <div class="media__duration js-media-duration meta meta--small"></div>\n    </div>\n    {{{body}}}\n</div>',i.VideoEmbed='\n<div class="_video -tuck">\n    <div class="_video__embed js-video-aspect" style="padding-bottom:{{paddingBottom}};">\n        {{{oembed}}}\n        <div class="_video__poster js-video-poster -cover animate animate--fade" data-img-src="{{assetUrl}}"></div>\n        <div class="_video__info js-video-info ghost">\n            <button class="icon--light ghost__child js-btn -btn">\n                <span class="icon icon--svg icon--play-button">\n                    <svg xmlns="http://www.w3.org/2000/svg" version="1.1" x="0" y="0" viewBox="0 0 80 80" xml:space="preserve"><path d="M40 0C17.9 0 0 17.9 0 40c0 22.1 17.9 40 40 40s40-17.9 40-40C80 17.9 62.1 0 40 0zM40 78C19 78 2 61 2 40S19 2 40 2s38 17 38 38S61 78 40 78z"/><polygon class="st0" points="33.9 51.4 51.1 39.6 33.9 28 "/></svg>\n                </span>\n            </button>\n        </div>\n    </div>\n    {{{body}}}\n</div>',i.VideoMobile='\n<div class="_video _video--mobile -tuck">\n    <div class="_video__wrap">\n        <div class="_video__aspect js-video-aspect">\n            <video class="_video__video js-video-el"></video>\n        </div>\n        <div class="_video__poster js-video-poster -cover" data-img-src="{{assetUrl}}" data-variants="{{systemDataVariants}}"></div>\n        <div class="_video__info js-video-info ghost">\n            <button class="icon--light ghost__child js-btn -btn">\n                <span class="icon icon--svg icon--play-button">\n                    <svg xmlns="http://www.w3.org/2000/svg" version="1.1" x="0" y="0" viewBox="0 0 80 80" xml:space="preserve"><path d="M40 0C17.9 0 0 17.9 0 40c0 22.1 17.9 40 40 40s40-17.9 40-40C80 17.9 62.1 0 40 0zM40 78C19 78 2 61 2 40S19 2 40 2s38 17 38 38S61 78 40 78z"/><polygon class="st0" points="33.9 51.4 51.1 39.6 33.9 28 "/></svg>\n                </span>\n            </button>\n        </div>\n    </div>\n    {{{body}}}\n</div>',i.VideoTile='\n<div class="_video _video--tile js-video" data-asset-source-url="{{assetSourceUrl}}" data-id="{{id}}">\n    <div class="_video__wrap">\n        <div class="_video__aspect js-video-aspect">\n            <video class="_video__video js-video-el" autoplay muted loop></video>\n        </div>\n    </div>\n</div>',i.VideoMinimal='\n<div class="_video js-media js-video js-hook-node -tuck">\n    <div class="_video__wrap">\n        <div class="_video__aspect js-video-aspect">\n            <video class="_video__video js-video-el" loop muted></video>\n        </div>\n    </div>\n    {{{body}}}\n</div>',i.VideoDeviceSkin='\n<div class="wrapper">\n    <div class="grid js-hook-node">\n        <div class="device device--iphone6 js-device-video js-video">\n            <div class="device__screen js-device-screen device__screen--iphone6">\n                <video class="device__video js-video-el" loop muted></video>\n                <div class="device__body js-device-skin js-lazy-image -cover" data-img-src="/assets/images/ui/device-family-iphone6.png"></div>\n            </div>\n        </div>\n    </div>\n</div>',i.VideoCaption='\n<figcaption class="figure__cap js-figure-caption -wrap">\n    <span class="meta caption -grey">{{{body}}}</span>\n</figcaption>',i.JobApplication='\n<form method="POST" action="{{action}}" enctype="multipart/form-data" class="form form--apply js-careers-form">\n    <div class="form__message ghost -text--center">\n        <span class="h2 -ss-01 -light ghost__child">{{message}}</span>\n    </div>\n    <div class="form__fields">\n        {{#fields}}\n            {{#isFile}}\n                <div class="form__field form__fileshim">\n                    <input required class="form__input {{className}} js-form-field" id="{{label}}" type="{{type}}" name="{{name}}" placeholder="{{label}}" />\n                    <label class="form__label form__input form__text js-fileshim--{{name}}">{{label}}</label>\n                </div>\n            {{/isFile}}\n            {{^isFile}}\n                <div class="form__field">\n                    <label class="form__label -off-screen" for="{{label}}">{{label}}</label>\n                    <input required class="form__input {{className}} js-form-field" id="{{label}}" type="{{type}}" name="{{name}}" placeholder="{{label}}" data-human-name="{{name_human}}" />\n                </div>\n            {{/isFile}}\n        {{/fields}}\n        <div class="form__field">\n            <input class="js-form-field" type="hidden" name="id" value="{{jobId}}" />\n            <input class="js-form-field" type="hidden" name="mapped_url_token" value="" />\n            <input class="js-form-field" type="hidden" name="title" value="{{jobTitle}}" />\n            <button class="form__submit p js-btn -btn -btn--o -btn--o--light" type="submit">Submit</button>\n        </div>\n    </div>\n</form>',i.FormCheckboxes='\n{{#checkboxes}}\n    <div class="form__field">\n        <label class="form__checkbox" for="id-{{id}}">\n            <input class="form__checkbox__input js-form-checkbox" type="checkbox" name="item_{{id}}" id="id-{{id}}" value="{{id}}" />\n            <span class="form__checkbox__text p">{{title}}</span>\n        </label>\n    </div>\n{{/checkboxes}}',i.PageNotFound='\n<div class="cover cover--base js-cover -bg--black">\n    <div class="cover__wrap wrapper ghost">\n        <div class="-light ghost__child">\n            <h2 class="h1 -ss-01">Sorry, we can\'t find the page you\'re looking for.</h2>\n            <h4 class="h5"><a class="a-link -light" href="/"><br>Start here</a></h4>\n        </div>\n    </div>\n</div>',e["default"]=i},function(t,e,i){(function(e){!function(e){"use strict";var i=function(t,i,n){var o,a=e.document,s=a.createElement("link");if(i)o=i;else{var r=(a.body||a.getElementsByTagName("head")[0]).childNodes;o=r[r.length-1]}var l=a.styleSheets;s.rel="stylesheet",s.href=t,s.media="only x",o.parentNode.insertBefore(s,i?o:o.nextSibling);var u=function(t){for(var e=s.href,i=l.length;i--;)if(l[i].href===e)return t();setTimeout(function(){u(t)})};return s.onloadcssdefined=u,u(function(){s.media=n||"all"}),s};t.exports=i}("undefined"!=typeof e?e:this)}).call(e,i(32))},function(t,e,i){t.exports=i.p+"../css/screen.css"},function(t,e){var i,n,o;!function(a,s){"object"==typeof e&&e&&"string"!=typeof e.nodeName?s(e):(n=[e],i=s,o="function"==typeof i?i.apply(e,n):i,!(void 0!==o&&(t.exports=o)))}(this,function(t){function e(t){return"function"==typeof t}function i(t){return v(t)?"array":typeof t}function n(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function o(t,e){return null!=t&&"object"==typeof t&&e in t}function a(t,e){return m.call(t,e)}function s(t){return!a(g,t)}function r(t){return String(t).replace(/[&<>"'`=\/]/g,function(t){return y[t]})}function l(e,i){function o(){if(g&&!y)for(;m.length;)delete p[m.pop()];else m=[];g=!1,y=!1}function a(t){if("string"==typeof t&&(t=t.split(b,2)),!v(t)||2!==t.length)throw new Error("Invalid tags: "+t);r=new RegExp(n(t[0])+"\\s*"),l=new RegExp("\\s*"+n(t[1])),f=new RegExp("\\s*"+n("}"+t[1]))}if(!e)return[];var r,l,f,h=[],p=[],m=[],g=!1,y=!1;a(i||t.tags);for(var E,j,P,M,C,O,$=new c(e);!$.eos();){if(E=$.pos,P=$.scanUntil(r))for(var S=0,A=P.length;A>S;++S)M=P.charAt(S),s(M)?m.push(p.length):y=!0,p.push(["text",M,E,E+1]),E+=1,"\n"===M&&o();if(!$.scan(r))break;if(g=!0,j=$.scan(k)||"name",$.scan(_),"="===j?(P=$.scanUntil(w),$.scan(w),$.scanUntil(l)):"{"===j?(P=$.scanUntil(f),$.scan(T),$.scanUntil(l),j="&"):P=$.scanUntil(l),!$.scan(l))throw new Error("Unclosed tag at "+$.pos);if(C=[j,P,E,$.pos],p.push(C),"#"===j||"^"===j)h.push(C);else if("/"===j){if(O=h.pop(),!O)throw new Error('Unopened section "'+P+'" at '+E);if(O[1]!==P)throw new Error('Unclosed section "'+O[1]+'" at '+E)}else"name"===j||"{"===j||"&"===j?y=!0:"="===j&&a(P)}if(O=h.pop())throw new Error('Unclosed section "'+O[1]+'" at '+$.pos);return d(u(p))}function u(t){for(var e,i,n=[],o=0,a=t.length;a>o;++o)e=t[o],e&&("text"===e[0]&&i&&"text"===i[0]?(i[1]+=e[1],i[3]=e[3]):(n.push(e),i=e));return n}function d(t){for(var e,i,n=[],o=n,a=[],s=0,r=t.length;r>s;++s)switch(e=t[s],e[0]){case"#":case"^":o.push(e),a.push(e),o=e[4]=[];break;case"/":i=a.pop(),i[5]=e[2],o=a.length>0?a[a.length-1][4]:n;break;default:o.push(e)}return n}function c(t){this.string=t,this.tail=t,this.pos=0}function f(t,e){this.view=t,this.cache={".":this.view},this.parent=e}function h(){this.cache={}}var p=Object.prototype.toString,v=Array.isArray||function(t){return"[object Array]"===p.call(t)},m=RegExp.prototype.test,g=/\S/,y={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},_=/\s*/,b=/\s+/,w=/\s*=/,T=/\s*\}/,k=/#|\^|\/|>|\{|&|=|!/;c.prototype.eos=function(){return""===this.tail},c.prototype.scan=function(t){var e=this.tail.match(t);if(!e||0!==e.index)return"";var i=e[0];return this.tail=this.tail.substring(i.length),this.pos+=i.length,i},c.prototype.scanUntil=function(t){var e,i=this.tail.search(t);switch(i){case-1:e=this.tail,this.tail="";break;case 0:e="";break;default:e=this.tail.substring(0,i),this.tail=this.tail.substring(i)}return this.pos+=e.length,e},f.prototype.push=function(t){return new f(t,this)},f.prototype.lookup=function(t){var i,n=this.cache;if(n.hasOwnProperty(t))i=n[t];else{for(var a,s,r=this,l=!1;r;){if(t.indexOf(".")>0)for(i=r.view,a=t.split("."),s=0;null!=i&&s<a.length;)s===a.length-1&&(l=o(i,a[s])),i=i[a[s++]];else i=r.view[t],l=o(r.view,t);if(l)break;r=r.parent}n[t]=i}return e(i)&&(i=i.call(this.view)),i},h.prototype.clearCache=function(){this.cache={}},h.prototype.parse=function(t,e){var i=this.cache,n=i[t];return null==n&&(n=i[t]=l(t,e)),n},h.prototype.render=function(t,e,i){var n=this.parse(t),o=e instanceof f?e:new f(e);return this.renderTokens(n,o,i,t)},h.prototype.renderTokens=function(t,e,i,n){for(var o,a,s,r="",l=0,u=t.length;u>l;++l)s=void 0,o=t[l],a=o[0],"#"===a?s=this.renderSection(o,e,i,n):"^"===a?s=this.renderInverted(o,e,i,n):">"===a?s=this.renderPartial(o,e,i,n):"&"===a?s=this.unescapedValue(o,e):"name"===a?s=this.escapedValue(o,e):"text"===a&&(s=this.rawValue(o)),void 0!==s&&(r+=s);return r},h.prototype.renderSection=function(t,i,n,o){function a(t){return s.render(t,i,n)}var s=this,r="",l=i.lookup(t[1]);if(l){if(v(l))for(var u=0,d=l.length;d>u;++u)r+=this.renderTokens(t[4],i.push(l[u]),n,o);else if("object"==typeof l||"string"==typeof l||"number"==typeof l)r+=this.renderTokens(t[4],i.push(l),n,o);else if(e(l)){if("string"!=typeof o)throw new Error("Cannot use higher-order sections without the original template");l=l.call(i.view,o.slice(t[3],t[5]),a),null!=l&&(r+=l)}else r+=this.renderTokens(t[4],i,n,o);return r}},h.prototype.renderInverted=function(t,e,i,n){var o=e.lookup(t[1]);return!o||v(o)&&0===o.length?this.renderTokens(t[4],e,i,n):void 0},h.prototype.renderPartial=function(t,i,n){if(n){var o=e(n)?n(t[1]):n[t[1]];return null!=o?this.renderTokens(this.parse(o),i,n,o):void 0}},h.prototype.unescapedValue=function(t,e){var i=e.lookup(t[1]);return null!=i?i:void 0},h.prototype.escapedValue=function(e,i){var n=i.lookup(e[1]);return null!=n?t.escape(n):void 0},h.prototype.rawValue=function(t){return t[1]},t.name="mustache.js",t.version="2.3.0",t.tags=["{{","}}"];var E=new h;return t.clearCache=function(){return E.clearCache()},t.parse=function(t,e){return E.parse(t,e)},t.render=function(t,e,n){if("string"!=typeof t)throw new TypeError('Invalid template! Template should be a "string" but "'+i(t)+'" was given as the first argument for mustache#render(template, view, partials)');return E.render(t,e,n)},t.to_html=function(i,n,o,a){var s=t.render(i,n,o);return e(a)?void a(s):s},t.escape=r,t.Scanner=c,t.Context=f,t.Writer=h,t})},function(t){!function(e){t.exports=e()}(function(){var t=function(t,e,i){var n=null;return function(){function o(){i||t.apply(s,a),n=null}var a=arguments,s=this;n?clearTimeout(n):i&&t.apply(s,a),n=setTimeout(o,e||100)}};return t})},function(t){!function(e){t.exports=e()}(function(){var t=function(e,i){var n=e.matches?"matches":e.webkitMatchesSelector?"webkitMatchesSelector":e.mozMatchesSelector?"mozMatchesSelector":e.msMatchesSelector?"msMatchesSelector":e.oMatchesSelector?"oMatchesSelector":null;return n&&e[n].call(e,i)?e:e!==document.documentElement&&e.parentNode?t(e.parentNode,i):null};return t})},function(t,e,i){!function(e){t.exports=e()}(function(){{var t=i(2);i(3)}return t.prototype.on=i(107),t.prototype.off=i(106),t.prototype.data=i(104),t.prototype.find=i(105),t.prototype.addClass=i(102),t.prototype.removeClass=i(108),t.prototype.eq=i(114),t.prototype.is=i(117),t.prototype.not=i(118),t.prototype.attr=i(110),t.prototype.prev=i(121),t.prototype.index=i(116),t.prototype.remove=i(122),t.prototype.append=i(109),t.prototype.prepend=i(120),t.prototype.parent=i(119),t.prototype.detach=i(113),t.prototype.filter=i(115),t.prototype.trigger=i(124),t.prototype.closest=i(112),t.prototype.children=i(111),t.prototype.removeAttr=i(123),hobo=function(e,i){return new t(e,i)},hobo.ajax=i(103),hobo})},function(t,e,i){var n=i(3);t.exports=function(t){return this.forEach(function(e){var i=t.split(" "),o=n.getClass(e).split(" ");i.forEach(function(t){-1===o.indexOf(t)&&o.push(t)}),n.setClass(e,n.trimString(o.join(" ")))}),this}},function(t,e,i){var n=i(3);t.exports=function(t){var e=t.data||null,i=t.dataType||"html",o=(t.method||"GET").toUpperCase(),a=t.url||window.location.href,s=t.headers||null;return!e||FormData&&e instanceof FormData||(e=n.serializeData(t.data)),"GET"===o&&e&&(a+="?"+e),new Promise(function(r,l){var u=function(t){if("json"===i)try{t=JSON.parse(t)}catch(e){l("Rejecting on JSON.parse error : "+e)}r(t)};if("jsonp"===i){var d=n.makeId()+"JSONP",c=t.jsonp||"callback",f=document.createElement("script");f.src=a+(/\?/.test(a)?"&":"?")+c+"="+d,window[d]=function(t){document.getElementsByTagName("head")[0].removeChild(f),f=null,delete window[d],u(t)},document.getElementsByTagName("head")[0].appendChild(f)}else{var h=new XMLHttpRequest;if(h.open(o,a,!0),s)for(var p in s)s.hasOwnProperty(p)&&h.setRequestHeader(p,s[p]);h.onreadystatechange=function(){4===this.readyState&&(/^20/.test(this.status)?u(this.responseText):l("Rejecting on server status code : "+this.status))},h.send(e)}})}},function(t,e,i){var n=i(3);t.exports=function(t,e){var i=this,o=null;return"object"==typeof t?(o=t,this.forEach(function(t){n.storeData(o,t)})):e?(o={},o[t]=e,this.forEach(function(t){n.storeData(o,t)})):t?(this.forEach(function(e){null===o&&(o=n.retrieveData(t,e))}),i=o):(o={},this.forEach(function(t){n.mergeData(o,t)}),i=o),i}},function(t,e,i){var n=i(2),o=i(3);t.exports=function(t){var e=this;return this.length>1?(e=[],this.forEach(function(i){e=e.concat(o.makeArray(i.querySelectorAll(t)))}),e=new n(e,null)):e=new n(this.length?t:[],this.length?this[0]:null),e}},function(t){var e=function(t,e,i){var n,o;if(i)for(o in this._events[e])this._events[e].hasOwnProperty(o)&&(n=this._events[e][o],n.node===t&&n.callback===i&&(t.removeEventListener(n.type,n.handler,!1),delete this._events[e][o]));else for(o in this._events[e])this._events[e].hasOwnProperty(o)&&(n=this._events[e][o],n.node===t&&(t.removeEventListener(n.type,n.handler,!1),delete this._events[e][o]))},i=function(t){var e,i,n;for(e in this._events)if(this._events.hasOwnProperty(e))for(n in this._events[e])this._events[e].hasOwnProperty(n)&&(i=this._events[e][n],i.node===t&&(t.removeEventListener(i.type,i.handler,!1),delete this._events[e][n]))};t.exports=function(t,n){var o=this;return(t?t.split(" "):[null]).forEach(function(t){o.forEach(function(a){null===t?i.call(o,a):e.call(o,a,t,n)})}),this}},function(t,e,i){var n=i(10),o=i(3),a=function(t,e,i,a){var s=o.makeId()+"EVENT",r=e,l=function(t){var o=i?n(t.target,i,!0):this;if("mouseenter"===e||"mouseleave"===e){var s="mouseenter"===e?t.fromElement:t.toElement;o&&s!==o&&!o.contains(s)&&a.call(o,t)}else o&&a.call(o,t)};"mouseenter"===e?r="mouseover":"mouseleave"===e&&(r="mouseout"),this._events[e][s]={id:s,type:r,node:t,handler:l,callback:a},t.addEventListener(r,l,!1)};t.exports=function(t,e,i){var n=this;return i||(i=e,e=this._selector),t.split(" ").forEach(function(t){n._events[t]||(n._events[t]={}),n.forEach(function(o){a.call(n,o,t,e,i)})}),this}},function(t,e,i){var n=i(3);t.exports=function(t){return this.forEach(function(e){if(void 0===t)n.setClass(e,"");else{var i=t.split(" "),o=n.getClass(e).split(" ");i.forEach(function(t){-1!==o.indexOf(t)&&o.splice(o.indexOf(t),1)}),n.setClass(e,n.trimString(o.join(" ")))}}),this}},function(t,e,i){var n=i(2);t.exports=function(t){return"string"==typeof t&&(t=new n(t)),this.forEach(function(e){t instanceof n||t.length&&"function"==typeof t.forEach?t.forEach(function(t){t.nodeType&&1===t.nodeType&&e.appendChild(t)}):t.nodeType&&e.appendChild(t)}),this}},function(t,e,i){var n=i(3),o=function(t,e,i){if(t.setAttribute(e,i),n.rData.test(e)){var o={};o[e.replace(n.rData,"")]=i,n.storeData(o,t)}};t.exports=function(t,e){var i=this;if("object"==typeof t)for(var n in t)this.forEach(function(e){o(e,n,t[n])});else void 0!==e?this.forEach(function(i){o(i,t,e)}):i=this[0].getAttribute(t);return i}},function(t,e,i){{var n=i(2);i(3)}t.exports=function(){var t,e,i=[];return this.forEach(function(n){for(e=0,t=n.children.length,e;t>e;e++)i.push(n.children[e])}),new n(i,this._context)}},function(t,e,i){var n=i(2),o=i(10);t.exports=function(t){var e=[];return this.forEach(function(i){var n=o(i,t,!0);n&&e.push(n)}),new n(e,null)}},function(t){t.exports=function(){return this.forEach(function(t){t.parentNode&&t.parentNode.removeChild(t)}),this}},function(t,e,i){var n=i(2);t.exports=function(t){return t<this.length?new n(this[t],this._context):this}},function(t,e,i){var n=i(2),o=i(10);

t.exports=function(t){var e=[];return this.forEach(function(i){o(i,t)&&e.push(i)}),new n(e,null)}},function(t){t.exports=function(){return[].indexOf.call(this[0].parentNode.children,this[0])}},function(t,e,i){var n=(i(2),i(10));t.exports=function(t){return n(this[0],t)?!0:!1}},function(t,e,i){var n=i(10),o=i(2);t.exports=function(t){var e=new o([],this._context);return this.forEach(t instanceof o?function(i){var n=!0;t.forEach(function(t){i===t&&(n=!1)}),n&&e.push(i)}:function(i,o){"function"==typeof t?t(o,i)&&e.push(i):n(i,t)||e.push(i)}),e}},function(t,e,i){var n=i(2),o=i(10);t.exports=function(t){var e=[];return this.forEach(function(i){(!t||t&&o(i.parentNode,t))&&e.push(i.parentNode)}),new n(e,null)}},function(t,e,i){var n=i(2);t.exports=function(t){return"string"==typeof t&&(t=new n(t)),this.forEach(function(e){t instanceof n||t.length&&"function"==typeof t.forEach?t.forEach(function(t){t.nodeType&&1===t.nodeType&&e.insertBefore(t,e.firstChild)}):t.nodeType&&e.insertBefore(t,e.firstChild)}),this}},function(t,e,i){var n=i(2),o=i(10);t.exports=function(t){var e=[];return this.forEach(function(i){for(var n=i.previousSibling;n&&1!==n.nodeType;)n=n.previousSibling;n&&(!t||t&&o(n,t))&&e.push(n)}),new n(e,this._context)}},function(t){t.exports=function(){return this.off(),this.forEach(function(t){delete t.hoboDataMap,t.parentNode&&t.parentNode.removeChild(t)}),this}},function(t,e,i){var n=i(3);t.exports=function(t){return this.forEach(function(e){e.removeAttribute(t),n.rData.test(t)&&n.removeData(t.replace(n.rData,""),e)}),this}},function(t){t.exports=function(t){var e,i,n=this;return this.forEach(function(o){for(i in n._events[t])n._events[t].hasOwnProperty(i)&&(e=n._events[t][i],e.node===o&&(e=document.createEvent("Events"),e.initEvent(t,!0,!1),o.dispatchEvent(e)))}),this}},function(t,e,i){!function(e){t.exports=e()}(function(){var t=i(7),e=function(e){if(!e)throw new Error("ImageLoader Class requires options to be passed");return t.call(this),this._executor=e.executor||function(t){return t},this._elements=e.elements,this._property=e.property||"data-src",this._loadType=e.loadType||"async",this._numLoaded=0,this._num2Load=this._elements?this._elements.length:0,this._transitionDelay=e.transitionDelay||0,this._transitionDuration=e.transitionDuration||400,this._resolved=!1,this._elements.length?void("async"===this._loadType?this.initAsync():this.initSync()):this};return e.prototype=Object.create(t.prototype),e.prototype.initAsync=function(){var t=this;this.go(function(){t._resolved?t.stop():t.handle()})},e.prototype.initSync=function(){function t(){var i=e._elements[e._numLoaded];e._numLoaded++,e.load(i,function(i){i||e._resolved||t()})}var e=this;t()},e.prototype.load=function(t,e){var i=this,n=null,o=null,a="IMG"===t.nodeName,s=t.getAttribute(this._property);return t.setAttribute("data-imageloader",!0),n=a?t:new Image,o=setTimeout(function(){clearTimeout(o),n.onload=function(){i.fire("load",t),a||(t.style.backgroundImage="url("+s+")",n=null),o=setTimeout(function(){clearTimeout(o),i._numLoaded!==i._num2Load||i._resolved?"function"==typeof e&&e(!1):i._resolve(!0)},i._transitionDuration)},n.onerror=function(){i.fire("error",t),i._numLoaded!==i._num2Load||i._resolved?"function"==typeof e&&e(!0):i._resolve(!0)},n.src=s},this._transitionDelay),this},e.prototype.handle=function(){for(var t=this.getNotLoaded(),e=this,i=0,n=t.length;n>i;i++)e._executor(t[i])&&(e._numLoaded++,e.load(t[i]))},e.prototype.getNotLoaded=function(){for(var t=[],e=0,i=this._elements.length;i>e;e++)this._elements[e].getAttribute("data-imageloader")||t.push(this._elements[e]);return t},e.prototype._resolve=function(){this._resolved=!0,this.fire("done")},e})},function(t,e,i){!function(e){t.exports=e()}(function(){var t=i(16),e=i(22),n=window.requestAnimationFrame,o=window.cancelAnimationFrame,a=/[#|?].*$/g,s=/^no$/,r=function(t){return"function"==typeof t},l=function(){var t=document.createElement("audio"),e={};try{t.canPlayType&&(e.ogg=t.canPlayType('audio/ogg; codecs="vorbis"').replace(s,""),e.mp3=t.canPlayType("audio/mpeg;").replace(s,""),e.opus=t.canPlayType('audio/ogg; codecs="opus"').replace(s,""),e.wav=t.canPlayType('audio/wav; codecs="1"').replace(s,""),e.m4a=(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/aac;")).replace(s,""))}catch(i){}return e},u=function(){var t=document.createElement("video"),e={};try{t.canPlayType&&(e.ogg=t.canPlayType('video/ogg; codecs="theora"').replace(s,""),e.h264=t.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(s,""),e.webm=t.canPlayType('video/webm; codecs="vp8, vorbis"').replace(s,""),e.vp9=t.canPlayType('video/webm; codecs="vp9"').replace(s,""),e.hls=t.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(s,""))}catch(i){}return e},d=function(t,e){var i,n=e.split(".").pop().toLowerCase().replace(a,"");if("video"===t)switch(n){case"webm":i="video/webm";break;case"mp4":case"m4v":i="video/mp4";break;case"ogv":i="video/ogg"}else switch(n){case"aac":i="audio/aac";break;case"m4a":i="audio/x-m4a";break;case"mp4":i="audio/mp4";break;case"mp1":case"mp2":case"mp3":case"mpg":case"mpeg":i="audio/mpeg";break;case"oga":case"ogg":i="audio/ogg";break;case"wav":i="audio/wav"}return i},c=function(t,e){for(var i,n,o=0,s=e.length;s>o;o++){var r=e[o].split(".").pop().toLowerCase().replace(a,"");if("webm"===r&&"probably"===T.support[t][r]){i=e[o],n=T.support[t][r];break}("probably"===T.support[t][r]||"maybe"===T.support[t][r])&&(i=e[o],n=T.support[t][r]),"ogv"!==r&&"oga"!==r||"probably"!==T.support[t].ogg&&"maybe"!==T.support[t].ogg||(i=e[o],n=T.support[t].ogg),"mp4"!==r&&"m4v"!==r||"probably"!==T.support[t].h264&&"maybe"!==T.support[t].h264||(i=e[o],n=T.support[t].h264),"aac"!==r||"probably"!==T.support[t].m4a&&"maybe"!==T.support[t].m4a||(i=e[o],n=T.support[t].m4a),"mp1"!==r&&"mp2"!==r&&"mpg"!==r&&"mpeg"!==r||"probably"!==T.support[t].mp3&&"maybe"!==T.support[t].mp3||(i=e[o],n=T.support[t].mp3)}return{source:i,canPlay:n}},f=function(t){t._updateId&&(o(t._updateId),t._updateId=null,t._updateFn=null)},h=function(){var t;return window.AudioContext?t=window.AudioContext:window.webkitAudioContext&&(t=window.webkitAudioContext),t?new t:t},p=function(t,e,i){var n=new XMLHttpRequest;if(n.open("GET",t,!0),e)for(var o in e)n[o]=e[o];return n.onreadystatechange=function(){if(4===this.readyState&&200===this.status)try{e.responseType||(this.responseJSON=JSON.parse(this.responseText)),r(i)&&i(this)}catch(t){throw new Error([t.name,t.message].join(" : "))}},n.send(),n},v=function(){b=this},m=1,g={bgm:{volume:m,_builtIn:!0},sfx:{volume:m,_builtIn:!0},vid:{volume:m,_builtIn:!0}},y={},_={},b=null,w=h(),T=function(){return b||v.apply(this,arguments)};return T.types={AUDIO:"audio",VIDEO:"video"},T.support={audio:l(),video:u()},T.STATE_STOPPED=0,T.STATE_STOPPING=1,T.STATE_PAUSED=2,T.STATE_PLAYING=3,T.prototype={constructor:T,isLoaded:function(t){var e=this.getMedia(t);return e.loaded===!0},isStopped:function(t){var e=this.getMedia(t);return e.state===T.STATE_STOPPED},isPaused:function(t){var e=this.getMedia(t);return e.state===T.STATE_PAUSED},isPlaying:function(t){var e=this.getMedia(t);return e.state===T.STATE_PLAYING||e.state===T.STATE_STOPPING},setVolume:function(t,e){var i=this.getMedia(t);return i._node.volume=e,b},getVolume:function(t){var e=this.getMedia(t);return e._node.volume},getMediaProp:function(t,e){var i=this.getMedia(t);return i?i._node[e]:void 0},setMediaProp:function(t,e,i){var n=this.getMedia(t);return n&&(n._node[e]=i),b},getMediaAttr:function(t,e){var i=this.getMedia(t);return i?i._node.getAttribute(e):void 0},setMediaAttr:function(t,e,i){var n=this.getMedia(t);return n&&n._node.setAttribute(e,i),b},addMediaEvent:function(t,e,i){var n=this.getMedia(t);if(n){if("timeupdate"===e)return n._events.timeupdate=i,b;n._events[e]=function(){r(i)&&i.apply(this,arguments)},n._node.addEventListener(e,n._events[e],!1)}return b},removeMediaEvent:function(t,e){var i=this.getMedia(t);return i&&("timeupdate"===e&&f(i),i._node.removeEventListener(e,i._events[e],!1),i._events[e]=null),b},playMedia:function(t){var e=this.getMedia(t);return e&&this.isLoaded(t)&&(this.isStopped(t)||this.isPaused(t))&&(e._node.volume=g[e.channel].volume,e._node.play(),e.state=T.STATE_PLAYING,!e._updateId&&r(e._events.timeupdate)&&(e._updateFn=function(){e._events.timeupdate.call(e._node,null),e._updateId=n(e._updateFn)},e._updateId=n(e._updateFn))),b},pauseMedia:function(t){var e=this.getMedia(t);return e&&this.isLoaded(t)&&this.isPlaying(t)&&(e._node.pause(),e.state=T.STATE_PAUSED,f(e)),b},stopMedia:function(t){var e=this.getMedia(t);return e&&this.isLoaded(t)&&this.isPlaying(t)&&(e._node.pause(),e.state=T.STATE_STOPPED,f(e)),b},getMedia:function(t){return _[t]?_[t]:y[t]},getAudios:function(){return y},getVideos:function(){return _},destroyMedia:function(t){var e=this.getMedia(t);return this.stopMedia(t),e.type===T.types.AUDIO?delete y[t]:delete _[t],b},loadMedia:function(t,e){var i=this;return p(t,null,function(t){i.addMedia(t.responseJSON),r(e)&&e()}),b},addMedia:function(t){for(var e in t)for(var i=t[e].length;i--;)r(this[e])&&this[e](t[e][i]);return b},addVideo:function(t){var e=t.id,i=t.src,n={element:t.element,channel:t.channel};return!_[e]&&e&&i?(g[n.channel]||(g[n.channel]={volume:m}),_[e]={},_[e].type=T.types.VIDEO,_[e].state=T.STATE_STOPPED,_[e].loaded=!0,_[e].channel=n.channel,_[e].sources=i,_[e]._source=c(T.types.VIDEO,i),_[e]._events={},_[e]._updateId=null,_[e]._updateFn=null,_[e]._node=n.element||document.createElement("video"),_[e]._nodeSource=document.createElement("source"),_[e]._nodeSource.src=_[e]._source.source,_[e]._nodeSource.type=d(T.types.VIDEO,_[e]._source.source),_[e]._node.appendChild(_[e]._nodeSource),b):b},addAudio:function(t){var e=t.id,i=t.src,n={channel:t.channel,CORS:t.CORS||!1};return!y[e]&&e&&i?(g[n.channel]||(g[n.channel]={volume:m}),y[e]={},y[e].type=T.types.AUDIO,y[e].state=T.STATE_STOPPED,y[e].loaded=!0,y[e].channel=n.channel,y[e].sources=i,y[e]._source=c(T.types.AUDIO,i),y[e]._events={},y[e]._updateId=null,y[e]._updateFn=null,y[e]._node=new Audio(y[e]._source.source),r(t.onloaded)&&!n.CORS&&p(y[e]._source.source,{responseType:"arraybuffer"},function(e){w.decodeAudioData(e.response,t.onloaded)}),b):b},fadeMediaIn:function(i,n,o){var a,s=this.getMedia(i),l=this;return s&&s.state===T.STATE_PLAYING?b:(s&&(a=g[s.channel].volume,s.state===T.STATE_STOPPED?(this.playMedia(i),this.setVolume(i,0)):s.state===T.STATE_STOPPING&&(s.state=T.STATE_PLAYING),new e({to:a,from:0,ease:r(o)?o:t.linear,duration:n||1e3,update:function(t){l.setVolume(i,t>a?a:t)},complete:function(){l.setVolume(i,a)}})),b)},fadeMediaOut:function(i,n,o){var a=this.getMedia(i);if(a&&a.state===T.STATE_STOPPING)return b;var s=this,l=function(t){a.state===T.STATE_STOPPING&&(s.setVolume(i,0>t?0:t),0===s.getVolume(i)&&s.stopMedia(i))};return a&&(a.state=T.STATE_STOPPING,new e({to:0,from:s.getVolume(i),ease:r(o)?o:t.linear,duration:n||1e3,update:l,complete:l})),b},stopChannel:function(t){var e;for(e in _)_[e].channel===t&&_[e].state===T.STATE_PLAYING&&this.pauseMedia(e);for(e in y)y[e].channel===t&&y[e].state===T.STATE_PLAYING&&this.pauseMedia(e);return b},playChannel:function(t){var e;for(e in _)_[e].channel===t&&_[e].state===T.STATE_PAUSED&&this.playMedia(e);for(e in y)y[e].channel===t&&y[e].state===T.STATE_PAUSED&&this.playMedia(e);return b},fadeChannelOut:function(t,e){var i;for(i in _)_[i].channel===t&&_[i].state===T.STATE_PLAYING&&this.fadeMediaOut(i,e);for(i in y)y[i].channel===t&&y[i].state===T.STATE_PLAYING&&this.fadeMediaOut(i,e);return b},fadeChannelIn:function(t,e){var i;for(i in _)_[i].channel===t&&_[i].state===T.STATE_STOPPED&&this.fadeMediaIn(i,e);for(i in y)y[i].channel===t&&y[i].state===T.STATE_STOPPED&&this.fadeMediaIn(i,e);return b},crossFadeChannel:function(t,e,i){var n;for(n in _)_[n].channel===t&&_[n].state===T.STATE_PLAYING&&this.fadeMediaOut(n,i);for(n in y)y[n].channel===t&&y[n].state===T.STATE_PLAYING&&this.fadeMediaOut(n,i);return this.fadeMediaIn(e,i)},setChannelProp:function(t,e,i){return g[t]&&(g[t][e]=i),b},getChannelProp:function(t,e){return g[t]?g[t][e]:void 0},getChannels:function(){return g}},T})},function(t,e,i){!function(e){t.exports=e()}(function(){var t=i(128),e=i(7),n=null,o=[],a=[],s={active:[],inactive:[]},r=!1,l=null,u=0,d="page-controller-",c=null,f=!0,h=null,p=null,v=!1,m=!1,g=null,y=!1,_=null,b=function(t,e){m||_.fire(d+t,e)},w=function(t){return"function"==typeof t},T=function(){for(var t=a.length;t--;)!a[t].__initialized&&w(a[t].init)&&(a[t].__initialized=!0,a[t].init())},k=function(){if(!m)for(var t=s.active.length;t--;)w(s.active[t].unload)&&s.active[t].unload()},E=function(){if(!m)for(var t=s.active.length;t--;)w(s.active[t].onload)&&s.active[t].onload()},j=function(t){var e,i=t.uri;for(e in t.query)i+="-"+e+"-"+t.query[e];for(e in t.params)i+="-"+e+"-"+t.params[e];return i},P=function(){if(!m){s.active=[],s.inactive=[];for(var t=a.length;t--;){var e=a[t];w(e.isActive)&&(e.isActive()?s.active.push(e):s.inactive.push(e))}b("router-synced-modules",s)}},M=function(t){function e(){Date.now()-l>=_._options.transitionTime&&(_.stop(),$(t))}y||(y=!0,_.go(e))},C=function(t){y||(O(t.request),setTimeout(function(){$(t)},_._options.transitionTime))},O=function(t){if(!y){var e=p===j(t);if(e)return b("router-samepage",{request:t}),void(v=!0);l=Date.now(),f||b("router-transition-out",{request:t})}},$=function(t){if(v)return v=!1,void(y=!1);var e={response:t.response.responseText,request:t.request,status:t.status};c=e.request.uri,h=e.request.query,p=j(e.request),f?(f=!1,y=!1,P(),E(),b("initialized-page",e)):setTimeout(function(){P(),k(),b("router-refresh-document",e),P(),E(),b("router-transition-in",e),y=!1,m&&(m=!1,w(g)&&(g(e),g=null))},_._options.transitionTime)},S=function(t){if(!_&&(_=this,this._options={transitionTime:u,routerOptions:{pushStateOptions:{}}},t=t||{},t.transitionTime&&(this._options.transitionTime=t.transitionTime),t.routerOptions))for(var e in t.routerOptions)this._options.routerOptions[e]=t.routerOptions[e];return _};return S.prototype=new e,S.prototype.initPage=function(){if(!r&&(r=!0,n=new t(this._options.routerOptions),n._matcher.parse(window.location.href,o).matched)){n.bind();for(var e=o.length;e--;)n.get(o[e],M);n.on("preget",O),n.on("popget",C),T()}},S.prototype.routeSilently=function(t,e){m=!0,g=e,n.trigger(t)},S.prototype.setConfig=function(t){o=t},S.prototype.setModules=function(t){if(t)for(var e=t.length;e--;)this.addModule(t[e])},S.prototype.addModule=function(t){if(!(-1===a.indexOf(t)&&w(t.isActive)&&w(t.onload)&&w(t.unload)))throw new Error("PageController ERROR - All registered modules require isActive, onload and unload methods.");a.push(t)},S.prototype.getModules=function(){return a},S.prototype.getConfig=function(){return o},S.prototype.getRouter=function(){return n},S.prototype.getPusher=function(){return n._pusher},S.prototype.getMatcher=function(){return n._matcher},S.prototype.getRoute=function(){return c},S.prototype.getQuery=function(){return h},S})},function(t,e,i){!function(e){t.exports=e()}(function(){var t,e=i(131),n=i(130),o=i(129),a=200,s=function(){return this.init.apply(this,arguments)};return s.prototype={constructor:s,_rHTTPs:/^http[s]?:\/\/.*?\//,_rFiles:/\.(jpg|jpeg|png|gif|pdf|csv|txt|md|doc|docx|xls|xlsx|webm|mp4|mp3)$/gi,_rDomain:new RegExp(document.domain),_isRouting:!1,init:function(t){this._options={async:!0,proxy:!1,caching:!0,handle404:!0,handle500:!0,pushStateOptions:{}},t=t||{};for(var i in t)this._options[i]=t[i];this._matcher=new n,this._pusher=new e(this._options.pushStateOptions),this._callbacks={},this._responses={},this._uid=0,this._ready=!1},bind:function(){var t=this,e=window.location.href.replace(window.location.hash,"");document.addEventListener("click",function(e){t._handleClick(this,e)},!1),this._pusher.on("popstate",function(e,i){t._handlePopstate(e,i)}),this._options.async&&this._options.handle404?this._route(e,function(){t._ready=!0}):setTimeout(function(){var i=(new XMLSerializer).serializeToString(document),n={status:200,responseText:i};t._fire("get",e,n,n.status),t._cache(e,n),t._ready=!0},a)},on:function(t,e){this._bind(t,e)},off:function(t,e){this._unbind(t,e)},trigger:function(e){t||(t=document.createElement("a")),t.href=e,this._handleClick(t,{target:t})},get:function(t,e){this._matcher.config([t]),e._routerRoutes?e._routerRoutes.push(t):e._routerRoutes=[t],1===e._routerRoutes.length&&this._bind("get",e)},getRouteForUrl:function(t){return this._matcher._cleanRoute(t)},getRouteDataForUrl:function(t){return this._matcher.parse(t,this._matcher.getRoutes()).params},getUID:function(){return this._uid=this._uid+1,this._uid},_preventDefault:function(t){t.preventDefault?t.preventDefault():t.returnValue=!1},_handleClick:function(t,e){var i=o(t,"a",!0)||o(e.target,"a",!0),n=i&&this._matcher.test(i.href),a=i&&this._rDomain.test(i.href),s=i&&this._options.proxy&&this._options.proxy.domain,r=i&&-1!==i.href.indexOf("#"),l=i&&-1!==i.className.indexOf("js-router--ignore"),u=i&&e.metaKey,d=i&&"_blank"===i.target,c=i&&a&&i.href.match(this._rFiles);(n&&a||s)&&(r||l||u||d||c||(this._preventDefault(e),this._isRouting||this._route(i.href)))},_handlePopstate:function(t){if(this._ready){for(var e=this._callbacks.get.length;e--;){var i=this._matcher.parse(t,this._callbacks.get[e]._routerRoutes);if(i.matched)break}data={route:this._matcher._cleanRoute(t),response:this._responses[t],request:i,status:this._responses[t].status},this._fire("popget",t,data)}else this._ready=!0},_route:function(t,e){var i=this,n={request:t,original:t};this._isRouting=!0,this._matchUrl(n.original),this._options.proxy&&this._options.proxy.domain&&(n.request=this._options.proxy.domain+"/"+n.request.replace(this._rHTTPs,"")),this._getUrl(n,function(t,o){i._isRouting=!1,i._pusher.push(n.original),i._fire("get",n.original,t,o),"function"==typeof e&&e(t,o)})},_matchUrl:function(t){if(this._ready)for(var e=this._callbacks.get.length;e--;){var i=this._matcher.parse(t,this._callbacks.get[e]._routerRoutes);if(i.matched){this._fire("preget",t,i);break}}},_getUrl:function(t,e){var i=function(i,n){try{o._cache(t.original,i),"function"==typeof e&&e(i,n)}catch(a){}},n=null,o=this;this._responses[t.original]?i(this._responses[t.original],this._responses[t.original].status):this._options.async?(n=new XMLHttpRequest,n.open("GET",t.request,!0),n.onreadystatechange=function(){4===this.readyState&&(200===this.status?i(this,200):404===this.status&&o._options.handle404?i(this,404):500===this.status&&o._options.handle500&&i(this,500))},n.send()):i({responseText:""},200)},_cache:function(t,e){this._options.caching&&!this._responses[t]&&(this._responses[t]=e)},_bind:function(t,e){"function"==typeof e&&(this._callbacks[t]||(this._callbacks[t]=[]),e._jsRouterID=this.getUID(),this._callbacks[t].push(e))},_unbind:function(t,e){if(!this._callbacks[t])return this;if(e){for(var i=0,n=this._callbacks[t].length;n>i;i++)if(e._jsRouterID===this._callbacks[t][i]._jsRouterID){this._callbacks[t].splice(i,1);break}}else{for(var o=this._callbacks[t].length;o--;)this._callbacks[t][o]=null;delete this._callbacks[t]}},_fire:function(t,e,i,n){var o;if("get"===t)for(o=this._callbacks[t].length;o--;){var a=this._matcher.parse(e,this._callbacks[t][o]._routerRoutes);a.matched&&this._callbacks[t][o].call(this,{route:this._matcher._cleanRoute(e),response:i,request:a,status:n})}else if(this._callbacks[t])for(o=this._callbacks[t].length;o--;)this._callbacks[t][o].call(this,i)}},s})},function(t){!function(e){t.exports=e()}(function(){var t=function(e,i,n){var o=e.matches?"matches":e.webkitMatchesSelector?"webkitMatchesSelector":e.mozMatchesSelector?"mozMatchesSelector":e.msMatchesSelector?"msMatchesSelector":e.oMatchesSelector?"oMatchesSelector":null;return o&&e[o].call(e,i)?e:n&&e!==document.documentElement&&e.parentNode?t(e.parentNode,i,n):null};return t})},function(t,e,i){!function(e){t.exports=e()}(function(){var t=i(31),e=function(){return this.init.apply(this,arguments)};return e.prototype={constructor:e,_rHTTPs:/^http[s]?:\/\/.*?\//,_rTrails:/^\/|\/$/g,_rHashQuery:/#.*$|\?.*$/g,_rWild:/^:/,_wilders:{num:/^[0-9]+$/,slug:/^[A-Za-z]+[A-Za-z0-9-_.]*$/},init:function(t){this._routes=t?this._cleanRoutes(t):[]},getRoutes:function(){return this._routes},config:function(t){return t="string"==typeof t?[t]:t,this._routes=this._routes.concat(this._cleanRoutes(t)),this},test:function(t){return this.parse(t,this._routes).matched},params:function(t){return this.parse(t,this._routes).params},compare:function(t,e){return this.parse(e,[t])},parse:function(e,i){for(var n,o,a,s,r,l,u,d,c=this._cleanRoute(e),f=c.split("/"),h=f.length,p=i.length,v=0;p>v;v++){if(o="*"===i[v],d={matched:!1,route:null,uri:[],params:{},query:t(e)},r=i[v].split("/"),"/"===c&&"/"===i[v]){d.matched=!0,d.route=i[v],d.uri="/";break}if(r.length===f.length||o){n=0;for(var m=0;h>m;m++)this._rWild.test(r[m])?(a=r[m].split("!"),s=a[0],u=a[1],u?(this._wilders[u]&&(l=this._wilders[u]),l&&l.test(f[m])&&(n++,d.params[s.replace(this._rWild,"")]=f[m],d.uri.push(f[m]))):(n++,d.params[s.replace(this._rWild,"")]=f[m],d.uri.push(f[m]))):f[m]===r[m]&&(n++,d.uri.push(f[m]));if(n===f.length||o){d.matched=!0,d.route=i[v],d.uri=o?c:d.uri.join("/");break}}}return d},_cleanRoute:function(t){return"/"!==t&&(t=t.replace(this._rHTTPs,""),t=t.replace(this._rTrails,""),t=t.replace(this._rHashQuery,""),t=t.replace(this._rTrails,"")),""===t&&(t="/"),t},_cleanRoutes:function(t){for(var e=t.length;e--;)t[e]=this._cleanRoute(t[e]);return t}},e})},function(t){!function(e){t.exports=e()}(function(){var t=function(){return this.init.apply(this,arguments)};return t.prototype={constructor:t,_pushable:"history"in window&&"pushState"in window.history,_hashable:"onhashchange"in window,init:function(t){this._initUrl=window.location.href.replace(window.location.hash,""),this._options=t||{},this._enabled=!1,this._ishashpushed=!1,this._uid=0,this._states={},this._callbacks={},this._states[this._initUrl]={uid:this.getUID()},this._stateEnable()},on:function(t,e){"function"==typeof e&&(this._callbacks[t]||(this._callbacks[t]=[]),e._pushstateID=this.getUID(),e._pushstateType=t,this._callbacks[t].push(e))},off:function(t,e){if(this._callbacks[t])for(var i=this._callbacks[t].length;i--;)if(this._callbacks[t][i]._pushstateID===e._pushstateID){this._callbacks[t].splice(i,1);break}},push:function(t){t!==window.location.href&&(this._push(t),this._states[t]={uid:this.getUID()})},goBack:function(){window.history.back(),this._fire("backstate")},goForward:function(){window.history.forward(),this._fire("forwardstate")},getUID:function(){return this._uid=this._uid+1,this._uid},_push:function(t){if(this._pushable&&!this._options.forceHash)window.history.pushState(this._states[t],"",t);else{var e=t.replace(window.location.origin,"");e===window.location.pathname&&(e="/"),this._ishashpushed=!0,window.location.hash=e}},_fire:function(t){if(this._callbacks[t])for(var e=this._callbacks[t].length;e--;)this._callbacks[t][e].apply(this,[].slice.call(arguments,1))},_stateEnable:function(){if(this._enabled)return this;var t=this,e=function(){var e=window.location.href,i=["#/","#",""];t._options.forceHash&&(e=e.replace(window.location.hash,""),e=e.replace(window.location.pathname,""),e+=-1!==i.indexOf(window.location.hash)?window.location.pathname:window.location.hash.replace("#","")),t._fire("popstate",e,t._states[e])};this._enabled=!0,this._pushable&&!this._options.forceHash?window.addEventListener("popstate",function(){e()},!1):this._hashable&&(this._push(this._initUrl),window.addEventListener("hashchange",function(){t._ishashpushed?t._ishashpushed=!1:e()},!1))}},t})},function(t,e,i){!function(e){t.exports=e()}(function(){var t=i(7),e=function(){t.call(this),this.currentView=this.getViewport(),this.hasOrientation="orientation"in window,this.start()};return e.prototype=Object.create(t.prototype),e.prototype.start=function(){var t=this;this.go(function(){var e=t.getViewport(),i=(e.width===t.currentView.width&&e.height===t.currentView.height,e.width!==t.currentView.width||e.height!==t.currentView.height),n=e.width>t.currentView.width||e.height>t.currentView.height,o=e.width<t.currentView.width||e.height<t.currentView.height,a=e.width!==t.currentView.width,s=e.height!==t.currentView.height,r=e.orient!==t.currentView.orient,l=e.orient!==t.currentView.orient&&90!==e.orient,u=e.orient!==t.currentView.orient&&90===e.orient;i&&t.fire("resize"),o?t.fire("resizedown"):n&&t.fire("resizeup"),a?t.fire("resizewidth"):s&&t.fire("resizeheight"),r&&t.fire("orientationchange"),l?t.fire("orientationportrait"):u&&t.fire("orientationlandscape"),t.currentView=e})},e.prototype.destroy=function(){this.stop()},e.prototype.getViewport=function(){return{width:window.innerWidth,height:window.innerHeight,orient:this.hasOrientation?Math.abs(window.orientation):null}},e.prototype.isPortrait=function(){var t=this.getViewport().orient;return null!==t&&90!==t},e.prototype.isLandscape=function(){var t=this.getViewport().orient;return null!==t&&90===t},e})},function(t,e,i){!function(e){t.exports=e()}(function(){var t=i(7),e=function(e){t.call(this),this.element=e||window,this.current=null,this.isWindow=this.element===window,this.start()};return e.prototype=Object.create(t.prototype),e.prototype.start=function(){var t=this;this.go(function(){var e=t.getScrollY(),i=(e===t.current,e!==t.current),n=e<t.current,o=e>t.current,a=e!==t.current&&t.isScrollMax(),s=e!==t.current&&t.isScrollMin();i&&t.fire("scroll"),o?t.fire("scrolldown"):n&&t.fire("scrollup"),a?t.fire("scrollmax"):s&&t.fire("scrollmin"),t.current=e})},e.prototype.destroy=function(){this.stop()},e.prototype.getScrollY=function(){return this.isWindow?window.scrollY:this.element.scrollTop},e.prototype.getScrollMax=function(){var t=null;return t=this.isWindow?Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.documentElement.clientHeight):Math.max(this.element.scrollHeight,this.element.offsetHeight,this.element.clientHeight),t-window.innerHeight},e.prototype.isScrollMax=function(){return this.getScrollY()>=this.getScrollMax()},e.prototype.isScrollMin=function(){return this.getScrollY()<=0},e})},function(t){!function(e){t.exports=e()}(function(){var t=function(){return this.init.apply(this,arguments)};return t.prototype={constructor:t,init:function(t){this._step=null,this._when={},this._done=null,this._delay=t.delay||250,this._current=0,this._occurrences=t.steps||0,this._timeout=null,this._paused=!1,this._started=!1,this._resolved=!1},step:function(t){return"function"==typeof t&&(this._step=t),this},when:function(t,e){return"function"==typeof e&&(this._when[t]=e),this},done:function(t){return"function"==typeof t&&(this._done=t),this},pause:function(){return this._paused=!0,this},play:function(){return this._paused=!1,this},start:function(){return this.play()._stagger(),this},_resolve:function(){return this._resolved=!0,this._timeout=null,this},_stagger:function(){if(this._started)return this;this._started=!0;var t=this,e=function(){t._timeout=setTimeout(function(){return clearTimeout(t._timeout),t._resolved?void(t._timeout=null):t._paused?void e():("function"==typeof t._step&&t._step(t._current),"function"==typeof t._when[t._current]&&t._when[t._current](t._current),t._current++,void(t._current===t._occurrences?(t._resolve(),"function"==typeof t._done&&t._done()):e()))},t._delay)};e()}},t})},function(t){!function(e){t.exports=e()}(function(){var t=function(t,e){var i=!1;return function(){i||(t.call(),i=!0,setTimeout(function(){i=!1},e||100))}};return t})},,,,function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}var o=i(47),a=n(o);window.app=new a["default"]}]);